<!DOCTYPE html><html lang="en"> <head><!-- Global Metadata --><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" type="image/svg+xml" href="/favicon.ico" media="(prefers-color-scheme: dark)"><link rel="icon" type="image/svg+xml" href="/favicon.ico" media="(prefers-color-scheme: light)"><link rel="icon" type="image/x-icon" href="/favicon.ico"><meta name="generator" content="Astro v4.16.18"><!-- Font preloads --><link rel="preload" href="/_astro/inter-latin-400-normal.BOOGhInR.woff2" as="font" type="font/woff2" crossorigin><link rel="preload" href="/_astro/inter-latin-600-normal.D273HNI0.woff2" as="font" type="font/woff2" crossorigin><link rel="preload" href="/_astro/lora-latin-400-normal.CvHVDnm4.woff2" as="font" type="font/woff2" crossorigin><link rel="preload" href="/_astro/lora-latin-600-normal.DUWh3m6k.woff2" as="font" type="font/woff2" crossorigin><!-- Canonical URL --><link rel="canonical" href="https://yonagi04.github.io/blog/cpp_oop/"><!-- Primary Meta Tags --><title>C++面向对象程序设计 知识点 | Yonagi&#39;s Sekai</title><meta name="title" content="C++面向对象程序设计 知识点 | Yonagi's Sekai"><meta name="description" content="Article: C++面向对象程序设计 知识点"><!-- Open Graph / Facebook --><meta property="og:type" content="website"><meta property="og:url" content="https://yonagi04.github.io/blog/cpp_oop/"><meta property="og:title" content="C++面向对象程序设计 知识点 | Yonagi's Sekai"><meta property="og:description" content="Article: C++面向对象程序设计 知识点"><meta property="og:image" content="https://yonagi04.github.io/nano.png"><!-- Twitter --><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://yonagi04.github.io/blog/cpp_oop/"><meta property="twitter:title" content="C++面向对象程序设计 知识点 | Yonagi's Sekai"><meta property="twitter:description" content="Article: C++面向对象程序设计 知识点"><meta property="twitter:image" content="https://yonagi04.github.io/nano.png"><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><script>
  function init() {
    preloadTheme();
    onScroll();
    animate();

    const backToTop = document.getElementById("back-to-top");
    backToTop?.addEventListener("click", (event) => scrollToTop(event));

    const backToPrev = document.getElementById("back-to-prev");
    backToPrev?.addEventListener("click", () => window.history.back());

    const lightThemeButton = document.getElementById("light-theme-button");
    lightThemeButton?.addEventListener("click", () => {
      localStorage.setItem("theme", "light");
      toggleTheme(false);
    });

    const darkThemeButton = document.getElementById("dark-theme-button");
    darkThemeButton?.addEventListener("click", () => {
      localStorage.setItem("theme", "dark");
      toggleTheme(true);
    });

    const systemThemeButton = document.getElementById("system-theme-button");
    systemThemeButton?.addEventListener("click", () => {
      localStorage.setItem("theme", "system");
      toggleTheme(window.matchMedia("(prefers-color-scheme: dark)").matches);
    });

    window.matchMedia("(prefers-color-scheme: dark)")
      .addEventListener("change", event => {
        if (localStorage.theme === "system") {
          toggleTheme(event.matches);
        }
      }
    );

    document.addEventListener("scroll", onScroll);
  }

  function animate() {
    const animateElements = document.querySelectorAll(".animate");

    animateElements.forEach((element, index) => {
      setTimeout(() => {
        element.classList.add("show");
      }, index * 150);
    });
  }

  function onScroll() {
    if (window.scrollY > 0) {
      document.documentElement.classList.add("scrolled");
    } else {
      document.documentElement.classList.remove("scrolled");
    }
  }

  function scrollToTop(event) {
    event.preventDefault();
    window.scrollTo({
      top: 0,
      behavior: "smooth"
    });
  }

function toggleTheme(dark) {
    const css = document.createElement("style");

    css.appendChild(
      document.createTextNode(
        `* {
             -webkit-transition: none !important;
             -moz-transition: none !important;
             -o-transition: none !important;
             -ms-transition: none !important;
             transition: none !important;
          }
        `,
      )
    );

    document.head.appendChild(css);

    if (dark) {
      document.documentElement.classList.add("dark");
    } else {
      document.documentElement.classList.remove("dark");
    }

  window.getComputedStyle(css).opacity;
    document.head.removeChild(css);
  }

  function preloadTheme() {
    const userTheme = localStorage.theme;

    if (userTheme === "light" || userTheme === "dark") {
      toggleTheme(userTheme === "dark");
    } else {
      toggleTheme(window.matchMedia("(prefers-color-scheme: dark)").matches);
    }
  }

  document.addEventListener("DOMContentLoaded", () => init());
  document.addEventListener("astro:after-swap", () => init());
  preloadTheme();
</script><link rel="stylesheet" href="/_astro/_slug_.DNSn8Jsb.css"><script type="module" src="/_astro/hoisted.RlhmG3H2.js"></script></head> <body> <header> <link rel="stylesheet" href="https://unpkg.com/katex@0.16.9/dist/katex.min.css" integrity="sha384-5IMT6/8xSOPdFjD/xHw5/R5S8QvP4sYf6T0rXG6L4PjS0N0J5O5F4M0E0X0F0V0F" crossorigin="anonymous"> <div class="mx-auto max-w-screen-sm px-5">  <div class="flex flex-wrap gap-y-2 justify-between"> <a href="/">  <div class="font-semibold"> Yonagi&#39;s Sekai </div>  </a> <nav class="flex gap-1"> <a href="/blog"> 
Blog
 </a> <span>    </span> <a href="/rss.xml" class="flex items-center px-2 underline" aria-label="RSS Feed">  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5 text-white-500"> <circle cx="6.18" cy="17.82" r="2.18"></circle> <path d="M4 4.44v3.06a12.5 12.5 0 0 1 12.5 12.5h3.06C19.56 10.61 13.39 4.44 4 4.44z"></path> <path d="M4 10.69v3.06a6.25 6.25 0 0 1 6.25 6.25h3.06A9.31 9.31 0 0 0 4 10.69z"></path> </svg>  </a> </nav> </div>  </div> </header> <main>  <div class="mx-auto max-w-screen-sm px-5"> <div class="space-y-1 my-10"> <div class="animate text-2xl font-semibold text-black dark:text-white"> C++面向对象程序设计 知识点 </div> <div class="animate flex items-center gap-1.5"> <div class="font-base text-sm"> <time datetime="2024-03-15T20:40:06.000Z"> 2024年3月15日 </time> </div>
&bull;
<div class="font-base text-sm"> 9 min read </div> </div> <div class="animate font-base text-sm">
Categories: 技术 / 编程语言 </div> <div class="animate font-base text-sm">
Tags: C++ / 面向对象 </div> </div> <article class="animate"> <h2 id="一面向对象程序设计概述">一、面向对象程序设计概述</h2>
<p>面向对象程序设计（Object Oriented Programming，OOP）是一种计算机编程架构。OOP 的一条基本原则是计算机程序由单个能够起到子程序作用的单元或对象组合而成。OOP 达到了软件工程的三个主要目标：重用性、灵活性和扩展性。OOP = 对象+类+继承+多态+消息，其中核心概念是类和对象。</p>
<p>类是构造对象的模板，而对象可以理解为类的实例。简单来讲，可以把类想象成制作甜饼的模具，而对象想象成小甜饼。由类创造出对象的过程称为创建类的实例。</p>
<p><strong>面向对象的三大特性：封装、继承、多态。</strong></p>
<h2 id="二封装">二、封装</h2>
<h3 id="1封装基础">1、封装基础</h3>
<p>封装(Encapsulation)是面向对象三大特性之一。</p>
<p>封装就是将数据和行为组合起来，并对对象的使用者隐藏具体的实现方式。</p>
<p>封装的意义，在于可以将对象中的属性和行为加以<strong>权限控制</strong>。</p>
<p>例1：设计一个圆类，计算出圆的周长。</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#F97583">#include</span><span style="color:#9ECBFF"> &#x3C;iostream></span></span>
<span class="line"><span style="color:#F97583">using</span><span style="color:#F97583"> namespace</span><span style="color:#B392F0"> std</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">const</span><span style="color:#F97583"> double</span><span style="color:#E1E4E8"> PI </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 3.14</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#6A737D">//class 代表设计一个类</span></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> Circle</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#6A737D">//访问权限</span></span>
<span class="line"><span style="color:#F97583">public:</span></span>
<span class="line"><span style="color:#6A737D">    //属性</span></span>
<span class="line"><span style="color:#F97583">    int</span><span style="color:#E1E4E8"> m_r;</span></span>
<span class="line"><span style="color:#6A737D">    //行为</span></span>
<span class="line"><span style="color:#6A737D">    //获取周长</span></span>
<span class="line"><span style="color:#F97583">    double</span><span style="color:#B392F0"> calculateZC</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#F97583">        return</span><span style="color:#79B8FF"> 2</span><span style="color:#F97583"> *</span><span style="color:#E1E4E8"> PI </span><span style="color:#F97583">*</span><span style="color:#E1E4E8"> m_r;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">int</span><span style="color:#B392F0"> main</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#6A737D">    //通过圆类，创建具体对象 圆</span></span>
<span class="line"><span style="color:#E1E4E8">    Circle c1;</span></span>
<span class="line"><span style="color:#6A737D">    //给圆 对象的属性进行赋值</span></span>
<span class="line"><span style="color:#E1E4E8">    c1.m_r </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 10</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">    cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "C = "</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> c1.</span><span style="color:#B392F0">calculateZC</span><span style="color:#E1E4E8">() </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span></code></pre>
<p>例2：设计一个学生类，属性有姓名和学号，可以给学号和姓名赋值，并显示学生的姓名和学号。</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#F97583">#include</span><span style="color:#9ECBFF"> &#x3C;iostream></span></span>
<span class="line"><span style="color:#F97583">#include</span><span style="color:#9ECBFF"> &#x3C;string.h></span></span>
<span class="line"><span style="color:#F97583">using</span><span style="color:#F97583"> namespace</span><span style="color:#B392F0"> std</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> Student</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">public:</span><span style="color:#6A737D">//权限</span></span>
<span class="line"><span style="color:#6A737D">    //类中的属性和行为成为 成员</span></span>
<span class="line"><span style="color:#6A737D">    //属性 成员属性</span></span>
<span class="line"><span style="color:#6A737D">    //行为 成员函数</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">    //属性</span></span>
<span class="line"><span style="color:#E1E4E8">    string m_Name;</span></span>
<span class="line"><span style="color:#F97583">    int</span><span style="color:#E1E4E8"> m_ID;</span></span>
<span class="line"><span style="color:#6A737D">    //行为</span></span>
<span class="line"><span style="color:#F97583">    void</span><span style="color:#B392F0"> ShowStudent</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">        cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "name "</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> m_Name </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> " num "</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> m_ID </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    void</span><span style="color:#B392F0"> setName</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">string</span><span style="color:#FFAB70"> name</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#E1E4E8">        m_Name </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> name;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    void</span><span style="color:#B392F0"> setID</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">int</span><span style="color:#FFAB70"> id</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#E1E4E8">        m_ID </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> id;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">int</span><span style="color:#B392F0"> main</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">    Student stu;</span></span>
<span class="line"><span style="color:#6A737D">    // stu.m_Name = "Yonagi";</span></span>
<span class="line"><span style="color:#E1E4E8">    stu.</span><span style="color:#B392F0">setName</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"Yonagi"</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#6A737D">    // stu.m_ID = 1;</span></span>
<span class="line"><span style="color:#E1E4E8">    stu.</span><span style="color:#B392F0">setID</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">    stu.</span><span style="color:#B392F0">ShowStudent</span><span style="color:#E1E4E8">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span></code></pre>
<h3 id="2访问权限">2、访问权限</h3>
<p>类在设计时，可以把属性和行为放在不同的权限下，加以控制</p>
<p>访问权限有以下三种：</p>
<p><strong>1、public 公共权限  类内可以访问，类外可以访问</strong></p>
<p><strong>2、protected 保护权限  类内可以访问，类外不可以访问</strong></p>
<p><strong>3、private 私有权限  类内可以访问，类外不可以访问</strong></p>
<p>例3：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#F97583">#include</span><span style="color:#9ECBFF"> &#x3C;iostream></span></span>
<span class="line"><span style="color:#F97583">#include</span><span style="color:#9ECBFF"> &#x3C;string.h></span></span>
<span class="line"><span style="color:#F97583">using</span><span style="color:#F97583"> namespace</span><span style="color:#B392F0"> std</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">//访问权限</span></span>
<span class="line"><span style="color:#6A737D">//1、公共权限 public 成员 类内可以访问，类外可以访问</span></span>
<span class="line"><span style="color:#6A737D">//2、保护权限 protected 成员 类内可以访问，类外不可以访问</span></span>
<span class="line"><span style="color:#6A737D">//3、私有权限 private 成员 类内可以访问，类外不可以访问</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> Person</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">public:</span></span>
<span class="line"><span style="color:#E1E4E8">    string m_Name;</span></span>
<span class="line"><span style="color:#F97583">protected:</span></span>
<span class="line"><span style="color:#E1E4E8">    string m_Car;</span></span>
<span class="line"><span style="color:#F97583">private:</span></span>
<span class="line"><span style="color:#F97583">    int</span><span style="color:#E1E4E8"> m_Password;</span></span>
<span class="line"><span style="color:#F97583">public:</span></span>
<span class="line"><span style="color:#F97583">    void</span><span style="color:#B392F0"> func</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">        m_Name </span><span style="color:#F97583">=</span><span style="color:#9ECBFF"> "Yonagi"</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">        m_car </span><span style="color:#F97583">=</span><span style="color:#9ECBFF"> "TOYOTA"</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">        m_Password </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 123456</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">int</span><span style="color:#B392F0"> main</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#6A737D">    //实例化具体对象</span></span>
<span class="line"><span style="color:#E1E4E8">    Person p1;</span></span>
<span class="line"><span style="color:#E1E4E8">    p1.m_Name </span><span style="color:#F97583">=</span><span style="color:#9ECBFF"> "Sierra"</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#6A737D">    // p1.m_car = "NISSAN";//保护权限内容，类外无法访问</span></span>
<span class="line"><span style="color:#6A737D">    // p1.m_Password = 234567;//私有权限内容，类外无法访问</span></span>
<span class="line"><span style="color:#E1E4E8">    p1.</span><span style="color:#B392F0">func</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span></code></pre>
<h3 id="3struct和class的区别">3、struct和class的区别</h3>
<p>初学面向对象时，会发现struct 和 class 很相似。</p>
<p>struct和class的一个区别就是，它们的默认访问权限是不同的，<strong>struct的默认访问权限是public，class的默认访问权限是private。</strong></p>
<p>例4：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#6A737D">//struct和class默认访问权限不同</span></span>
<span class="line"><span style="color:#6A737D">//struct 默认权限为public</span></span>
<span class="line"><span style="color:#6A737D">//class 默认权限为private</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">#include</span><span style="color:#9ECBFF"> &#x3C;iostream></span></span>
<span class="line"><span style="color:#F97583">using</span><span style="color:#F97583"> namespace</span><span style="color:#B392F0"> std</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> C1</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">    int</span><span style="color:#E1E4E8"> m_A;</span><span style="color:#6A737D">//默认权限为private</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">struct</span><span style="color:#B392F0"> C2</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">    int</span><span style="color:#E1E4E8"> m_A;</span><span style="color:#6A737D">//默认权限为public</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">int</span><span style="color:#B392F0"> main</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">    C1 c1;</span></span>
<span class="line"><span style="color:#6A737D">    // c1.m_A = 100;//私有</span></span>
<span class="line"><span style="color:#E1E4E8">    C2 c2;</span></span>
<span class="line"><span style="color:#E1E4E8">    c2.m_A </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 100</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span></code></pre>
<h3 id="4成员属性私有化">4、成员属性私有化</h3>
<p>对于一个类，实现封装的最好方法，就是将属性设置为private，将成员函数设置为public。</p>
<p>例5：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#F97583">#include</span><span style="color:#9ECBFF"> &#x3C;iostream></span></span>
<span class="line"><span style="color:#F97583">#include</span><span style="color:#9ECBFF"> &#x3C;string.h></span></span>
<span class="line"><span style="color:#F97583">using</span><span style="color:#F97583"> namespace</span><span style="color:#B392F0"> std</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">//成员属性设置为私有</span></span>
<span class="line"><span style="color:#6A737D">//1、可以自己控制读写权限</span></span>
<span class="line"><span style="color:#6A737D">//2、对于写可以检测数据的有效性</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> Person</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">public:</span></span>
<span class="line"><span style="color:#F97583">    void</span><span style="color:#B392F0"> setAge</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">int</span><span style="color:#FFAB70"> age</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">        if</span><span style="color:#E1E4E8"> (age </span><span style="color:#F97583">>=</span><span style="color:#79B8FF"> 0</span><span style="color:#F97583"> &#x26;&#x26;</span><span style="color:#E1E4E8"> age </span><span style="color:#F97583">&#x3C;=</span><span style="color:#79B8FF"> 150</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#E1E4E8">            m_Age </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> age;</span></span>
<span class="line"><span style="color:#E1E4E8">        } </span><span style="color:#F97583">else</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">            m_Age </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">        }</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    void</span><span style="color:#B392F0"> setName</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">string</span><span style="color:#FFAB70"> name</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#E1E4E8">        m_Name </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> name;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">    string</span><span style="color:#B392F0"> getName</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#F97583">        return</span><span style="color:#E1E4E8"> m_Name;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    int</span><span style="color:#B392F0"> getAge</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#F97583">        return</span><span style="color:#E1E4E8"> m_Age;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#F97583">private:</span></span>
<span class="line"><span style="color:#E1E4E8">    string m_Name;</span><span style="color:#6A737D"> //可读可写</span></span>
<span class="line"><span style="color:#F97583">    int</span><span style="color:#E1E4E8"> m_Age;</span><span style="color:#6A737D"> // 可读可写 </span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">int</span><span style="color:#B392F0"> main</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">    Person p;</span></span>
<span class="line"><span style="color:#E1E4E8">    p.</span><span style="color:#B392F0">setName</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"Yonagi"</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">    cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "name : "</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> p.</span><span style="color:#B392F0">getName</span><span style="color:#E1E4E8">() </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">    p.</span><span style="color:#B392F0">setAge</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">1000</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">    cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "age : "</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> p.</span><span style="color:#B392F0">getAge</span><span style="color:#E1E4E8">() </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span></code></pre>
<p>例6：设计一个立方体类，求出立方体的面积和体积</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#F97583">#include</span><span style="color:#9ECBFF"> &#x3C;iostream></span></span>
<span class="line"><span style="color:#F97583">using</span><span style="color:#F97583"> namespace</span><span style="color:#B392F0"> std</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> Cube</span><span style="color:#E1E4E8">{</span></span>
<span class="line"><span style="color:#F97583">public:</span></span>
<span class="line"><span style="color:#F97583">    void</span><span style="color:#B392F0"> setM_H</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">double</span><span style="color:#FFAB70"> h</span><span style="color:#E1E4E8">) {</span><span style="color:#6A737D"> //设置高</span></span>
<span class="line"><span style="color:#E1E4E8">        m_H </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> h;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    void</span><span style="color:#B392F0"> setM_L</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">double</span><span style="color:#FFAB70"> l</span><span style="color:#E1E4E8">) {</span><span style="color:#6A737D"> //设置长</span></span>
<span class="line"><span style="color:#E1E4E8">        m_L </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> l;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    void</span><span style="color:#B392F0"> setM_W</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">double</span><span style="color:#FFAB70"> w</span><span style="color:#E1E4E8">) {</span><span style="color:#6A737D"> //设置宽</span></span>
<span class="line"><span style="color:#E1E4E8">        m_W </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> w;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    double</span><span style="color:#B392F0"> getM_H</span><span style="color:#E1E4E8">() {</span><span style="color:#6A737D"> //获取高</span></span>
<span class="line"><span style="color:#F97583">        return</span><span style="color:#E1E4E8"> m_H;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    double</span><span style="color:#B392F0"> getM_L</span><span style="color:#E1E4E8">() {</span><span style="color:#6A737D"> //获取长</span></span>
<span class="line"><span style="color:#F97583">        return</span><span style="color:#E1E4E8"> m_L;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    double</span><span style="color:#B392F0"> getM_W</span><span style="color:#E1E4E8">() {</span><span style="color:#6A737D"> //获取宽</span></span>
<span class="line"><span style="color:#F97583">        return</span><span style="color:#E1E4E8"> m_W;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    double</span><span style="color:#B392F0"> S</span><span style="color:#E1E4E8">() {</span><span style="color:#6A737D"> //获取面积</span></span>
<span class="line"><span style="color:#F97583">        return</span><span style="color:#E1E4E8"> (m_H </span><span style="color:#F97583">*</span><span style="color:#E1E4E8"> m_L) </span><span style="color:#F97583">*</span><span style="color:#79B8FF"> 2</span><span style="color:#F97583"> +</span><span style="color:#E1E4E8"> (m_H </span><span style="color:#F97583">*</span><span style="color:#E1E4E8"> m_W) </span><span style="color:#F97583">*</span><span style="color:#79B8FF"> 2</span><span style="color:#F97583"> +</span><span style="color:#E1E4E8"> (m_L </span><span style="color:#F97583">*</span><span style="color:#E1E4E8"> m_W) </span><span style="color:#F97583">*</span><span style="color:#79B8FF"> 2</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    double</span><span style="color:#B392F0"> V</span><span style="color:#E1E4E8">() {</span><span style="color:#6A737D"> //获取体积</span></span>
<span class="line"><span style="color:#F97583">        return</span><span style="color:#E1E4E8"> m_H </span><span style="color:#F97583">*</span><span style="color:#E1E4E8"> m_L </span><span style="color:#F97583">*</span><span style="color:#E1E4E8"> m_W;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#F97583">private:</span></span>
<span class="line"><span style="color:#F97583">    double</span><span style="color:#E1E4E8"> m_H;</span><span style="color:#6A737D"> //高</span></span>
<span class="line"><span style="color:#F97583">    double</span><span style="color:#E1E4E8"> m_L;</span><span style="color:#6A737D"> //长</span></span>
<span class="line"><span style="color:#F97583">    double</span><span style="color:#E1E4E8"> m_W;</span><span style="color:#6A737D"> //宽</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">int</span><span style="color:#B392F0"> main</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">    Cube c1;</span></span>
<span class="line"><span style="color:#E1E4E8">    c1.</span><span style="color:#B392F0">setM_H</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">1.0</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">    c1.</span><span style="color:#B392F0">setM_L</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">1.0</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">    c1.</span><span style="color:#B392F0">setM_W</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">1.0</span><span style="color:#E1E4E8">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">    cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "S of c1 is "</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> c1.</span><span style="color:#B392F0">S</span><span style="color:#E1E4E8">() </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">    cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "V of c1 is "</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> c1.</span><span style="color:#B392F0">V</span><span style="color:#E1E4E8">() </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">    Cube c2;</span></span>
<span class="line"><span style="color:#E1E4E8">    c2.</span><span style="color:#B392F0">setM_H</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">2.0</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">    c2.</span><span style="color:#B392F0">setM_L</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">2.0</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">    c2.</span><span style="color:#B392F0">setM_W</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">2.0</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">    cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "S of c2 is "</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> c2.</span><span style="color:#B392F0">S</span><span style="color:#E1E4E8">() </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">    cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "V of c2 is "</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> c2.</span><span style="color:#B392F0">V</span><span style="color:#E1E4E8">() </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span></code></pre>
<p>例7：设计一个圆类，和一个点类，计算点和圆的位置关系</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#F97583">#include</span><span style="color:#9ECBFF"> &#x3C;iostream></span></span>
<span class="line"><span style="color:#F97583">using</span><span style="color:#F97583"> namespace</span><span style="color:#B392F0"> std</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> Point</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">public:</span></span>
<span class="line"><span style="color:#F97583">    void</span><span style="color:#B392F0"> setX</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">int</span><span style="color:#FFAB70"> x</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#E1E4E8">        c_x </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> x;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">    </span></span>
<span class="line"><span style="color:#F97583">    int</span><span style="color:#B392F0"> getX</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#F97583">        return</span><span style="color:#E1E4E8"> c_x;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    void</span><span style="color:#B392F0"> setY</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">int</span><span style="color:#FFAB70"> y</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#E1E4E8">        c_y </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> y;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    int</span><span style="color:#B392F0"> getY</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#F97583">        return</span><span style="color:#E1E4E8"> c_y;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#F97583">private:</span></span>
<span class="line"><span style="color:#F97583">    int</span><span style="color:#E1E4E8"> c_x;</span></span>
<span class="line"><span style="color:#F97583">    int</span><span style="color:#E1E4E8"> c_y;</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> Circle</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">public:</span></span>
<span class="line"><span style="color:#F97583">    void</span><span style="color:#B392F0"> setR</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">int</span><span style="color:#FFAB70"> r</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#E1E4E8">        c_r </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> r;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    int</span><span style="color:#B392F0"> getR</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#F97583">        return</span><span style="color:#E1E4E8"> c_r;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    void</span><span style="color:#B392F0"> setCenter</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Point</span><span style="color:#FFAB70"> center</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#E1E4E8">        c_center </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> center;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">    Point</span><span style="color:#B392F0"> getCenter</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#F97583">        return</span><span style="color:#E1E4E8"> c_center;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#F97583">private:</span></span>
<span class="line"><span style="color:#F97583">    int</span><span style="color:#E1E4E8"> c_r;</span></span>
<span class="line"><span style="color:#E1E4E8">    Point c_center;    </span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">void</span><span style="color:#B392F0"> judge</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Circle</span><span style="color:#F97583"> &#x26;</span><span style="color:#FFAB70">c</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">Point</span><span style="color:#F97583"> &#x26;</span><span style="color:#FFAB70">p</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">    int</span><span style="color:#E1E4E8"> distance </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> </span></span>
<span class="line"><span style="color:#E1E4E8">        (c.</span><span style="color:#B392F0">getCenter</span><span style="color:#E1E4E8">().</span><span style="color:#B392F0">getX</span><span style="color:#E1E4E8">() </span><span style="color:#F97583">-</span><span style="color:#E1E4E8"> p.</span><span style="color:#B392F0">getX</span><span style="color:#E1E4E8">()) </span><span style="color:#F97583">*</span><span style="color:#E1E4E8"> (c.</span><span style="color:#B392F0">getCenter</span><span style="color:#E1E4E8">().</span><span style="color:#B392F0">getX</span><span style="color:#E1E4E8">() </span><span style="color:#F97583">-</span><span style="color:#E1E4E8"> p.</span><span style="color:#B392F0">getX</span><span style="color:#E1E4E8">()) </span><span style="color:#F97583">+</span><span style="color:#E1E4E8"> (c.</span><span style="color:#B392F0">getCenter</span><span style="color:#E1E4E8">().</span><span style="color:#B392F0">getY</span><span style="color:#E1E4E8">() </span><span style="color:#F97583">-</span><span style="color:#E1E4E8"> p.</span><span style="color:#B392F0">getY</span><span style="color:#E1E4E8">()) </span></span>
<span class="line"><span style="color:#F97583">        *</span><span style="color:#E1E4E8"> (c.</span><span style="color:#B392F0">getCenter</span><span style="color:#E1E4E8">().</span><span style="color:#B392F0">getY</span><span style="color:#E1E4E8">() </span><span style="color:#F97583">-</span><span style="color:#E1E4E8"> p.</span><span style="color:#B392F0">getY</span><span style="color:#E1E4E8">());</span></span>
<span class="line"><span style="color:#F97583">    int</span><span style="color:#E1E4E8"> rDistance </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> c.</span><span style="color:#B392F0">getR</span><span style="color:#E1E4E8">() </span><span style="color:#F97583">*</span><span style="color:#E1E4E8"> c.</span><span style="color:#B392F0">getR</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">    </span></span>
<span class="line"><span style="color:#F97583">    if</span><span style="color:#E1E4E8"> (distance </span><span style="color:#F97583">==</span><span style="color:#E1E4E8"> rDistance) {</span></span>
<span class="line"><span style="color:#E1E4E8">        cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "On the circle"</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">    } </span><span style="color:#F97583">else</span><span style="color:#F97583"> if</span><span style="color:#E1E4E8"> (distance </span><span style="color:#F97583">&#x3C;</span><span style="color:#E1E4E8"> rDistance) {</span></span>
<span class="line"><span style="color:#E1E4E8">        cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "In the circle"</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">    } </span><span style="color:#F97583">else</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">        cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "Out of circle"</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">int</span><span style="color:#B392F0"> main</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">    Circle c;</span></span>
<span class="line"><span style="color:#E1E4E8">    c.</span><span style="color:#B392F0">setR</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">10</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">    Point center;</span></span>
<span class="line"><span style="color:#E1E4E8">    center.</span><span style="color:#B392F0">setX</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">10</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">    center.</span><span style="color:#B392F0">setY</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">    c.</span><span style="color:#B392F0">setCenter</span><span style="color:#E1E4E8">(center);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">    Point p;</span></span>
<span class="line"><span style="color:#E1E4E8">    p.</span><span style="color:#B392F0">setX</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">10</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">    p.</span><span style="color:#B392F0">setY</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">10</span><span style="color:#E1E4E8">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">    judge</span><span style="color:#E1E4E8">(c, p); </span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span></code></pre>
<h2 id="三对象初始化与清理">三、对象初始化与清理</h2>
<h3 id="1构造函数与析构函数">1、构造函数与析构函数</h3>
<p>一个对象或变量，如果没有初始状态，则其使用后果是未知的。</p>
<p>同样，如果使用完一个对象或变量，如果没能及时清理，也会带来问题。</p>
<p>C++提供了<strong>构造函数</strong>和<strong>析构函数</strong>，用于解决以上的问题。这两个函数会被编</p>
<p>译器自动调用，完成对象的初始化和清理工作。</p>
<p>因为对象的初始化和清理是编译器强制要求，所以<strong>如果不提供构造函数和析</strong></p>
<p><strong>构函数，编译器也会自动提供。</strong></p>
<p><strong>编译器自动提供的构造函数和析构函数是空实现。</strong></p>













<table><thead><tr><th>构造函数</th><th>析构函数</th></tr></thead><tbody><tr><td>主要作用在于创建对象时为对象的成员属性赋值，构造函数由编译器自动调用，无须手动调用</td><td>主要作用在于对象销毁前系统自动调用，执行一些清理工作</td></tr></tbody></table>
<p>构造函数：</p>
<ol>
<li>基本语法：类名() {}</li>
<li><strong>构造函数，没有返回值，也不写void</strong></li>
<li>函数名与类名相同</li>
<li>构造函数可以有参数，因此可以发生重载</li>
<li><strong>程序在调用对象时可以自动调用构造，无需手动调用，且会调用一次</strong></li>
</ol>
<p>析构函数：</p>
<ol>
<li>基本语法：~类名() {}</li>
<li><strong>析构函数，没有返回值，也不写void</strong></li>
<li>函数名与类名相同，在前面加~</li>
<li><strong>析构函数不能有参数，因此不能发生重载</strong></li>
<li><strong>程序在销毁对象时会自动调用析构，无需手动调用，且会调用一次</strong></li>
</ol>
<p>例1：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#F97583">#include</span><span style="color:#9ECBFF"> &#x3C;iostream></span></span>
<span class="line"><span style="color:#F97583">using</span><span style="color:#F97583"> namespace</span><span style="color:#B392F0"> std</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> Person</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#6A737D">//1、构造函数</span></span>
<span class="line"><span style="color:#F97583">public:</span></span>
<span class="line"><span style="color:#B392F0">    Person</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">        cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "Constructor"</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#6A737D">//2、析构函数</span></span>
<span class="line"><span style="color:#B392F0">    ~Person</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">        cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "Destructor"</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">void</span><span style="color:#B392F0"> test01</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">    Person p;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">int</span><span style="color:#B392F0"> main</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#6A737D">    // test01();</span></span>
<span class="line"><span style="color:#E1E4E8">    Person p;</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span></code></pre>
<h3 id="2构造函数分类与调用">2、构造函数分类与调用</h3>
<p>构造函数有两种分类方式：</p>













<table><thead><tr><th>按参数分类</th><th>按类型分类</th></tr></thead><tbody><tr><td>有参构造&#x26;无参构造(默认构造)</td><td>普通构造&#x26;拷贝构造</td></tr></tbody></table>
<p>构造函数有三种调用方法：</p>
<ol>
<li>括号法</li>
<li>显示法</li>
<li>隐式转换法</li>
</ol>
<p>注意：<strong>构造默认函数时，不要加()。因为编译器会认为这是函数声明。</strong></p>
<p>例2：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#F97583">#include</span><span style="color:#9ECBFF"> &#x3C;iostream></span></span>
<span class="line"><span style="color:#F97583">using</span><span style="color:#F97583"> namespace</span><span style="color:#B392F0"> std</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> Person</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">public:</span></span>
<span class="line"><span style="color:#6A737D">    //构造函数</span></span>
<span class="line"><span style="color:#B392F0">    Person</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">        cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "Constructor"</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#B392F0">    Person</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">int</span><span style="color:#FFAB70"> a</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#E1E4E8">        age </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> a;</span></span>
<span class="line"><span style="color:#E1E4E8">        cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "Constructor01"</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#6A737D">    //析构函数</span></span>
<span class="line"><span style="color:#B392F0">    ~Person</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">        cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "Destructor"</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">    //拷贝构造函数</span></span>
<span class="line"><span style="color:#B392F0">    Person</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">const</span><span style="color:#B392F0"> Person</span><span style="color:#F97583"> &#x26;</span><span style="color:#FFAB70">p</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#6A737D">        //将传入的人身上所有的属性，拷贝</span></span>
<span class="line"><span style="color:#E1E4E8">        age </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> p.age;</span></span>
<span class="line"><span style="color:#E1E4E8">        cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "Constructor02"</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#F97583">private:</span></span>
<span class="line"><span style="color:#F97583">    int</span><span style="color:#E1E4E8"> age;</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">void</span><span style="color:#B392F0"> test01</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#6A737D">    //1、括号法</span></span>
<span class="line"><span style="color:#6A737D">    // Person p; //默认函数调用</span></span>
<span class="line"><span style="color:#6A737D">    // Person p2(10); //有参构造函数</span></span>
<span class="line"><span style="color:#6A737D">    // Person p3(p2); //拷贝构造函数</span></span>
<span class="line"><span style="color:#E1E4E8">    </span></span>
<span class="line"><span style="color:#6A737D">    //2、显示法</span></span>
<span class="line"><span style="color:#E1E4E8">    Person p1;</span></span>
<span class="line"><span style="color:#E1E4E8">    Person p2 </span><span style="color:#F97583">=</span><span style="color:#B392F0"> Person</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">10</span><span style="color:#E1E4E8">);</span><span style="color:#6A737D"> //有参构造</span></span>
<span class="line"><span style="color:#E1E4E8">    Person p3 </span><span style="color:#F97583">=</span><span style="color:#B392F0"> Person</span><span style="color:#E1E4E8">(p2);</span><span style="color:#6A737D"> //拷贝构造</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">    Person</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">10</span><span style="color:#E1E4E8">);</span><span style="color:#6A737D"> //匿名对象 特点：当前行执行结束后，系统会立即回收掉匿名对象</span></span>
<span class="line"><span style="color:#E1E4E8">    </span></span>
<span class="line"><span style="color:#6A737D">    //注意：</span></span>
<span class="line"><span style="color:#6A737D">    //不要利用拷贝构造函数 初始化匿名对象</span></span>
<span class="line"><span style="color:#6A737D">    //Person(p3); // Person(p3) == Person p3; 对象声明</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">    //3、隐式转换法</span></span>
<span class="line"><span style="color:#E1E4E8">    Person p4 </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 10</span><span style="color:#E1E4E8">;</span><span style="color:#6A737D"> //相当于 写了Person p4 = Person(10);</span></span>
<span class="line"><span style="color:#E1E4E8">    Person p5 </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> p4;</span><span style="color:#6A737D"> // Person p5 = Person(p4); 拷贝构造</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">int</span><span style="color:#B392F0"> main</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#B392F0">    test01</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span></code></pre>
<h3 id="3拷贝构造函数的调用时机">3、拷贝构造函数的调用时机</h3>
<p>拷贝构造函数调用通常有三种情况：</p>
<ol>
<li>使用一个已经创建完毕的对象来初始化一个新对象</li>
<li>值传递的方式给函数参数传值</li>
<li>值方式返回局部对象</li>
</ol>
<p>例3：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#F97583">#include</span><span style="color:#9ECBFF"> &#x3C;iostream></span></span>
<span class="line"><span style="color:#F97583">using</span><span style="color:#F97583"> namespace</span><span style="color:#B392F0"> std</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> Person</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">public:</span></span>
<span class="line"><span style="color:#F97583">    int</span><span style="color:#E1E4E8"> m_Age;</span></span>
<span class="line"><span style="color:#B392F0">    Person</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">        cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "Person Constructor"</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">    Person</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">int</span><span style="color:#FFAB70"> age</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#E1E4E8">        cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "Person Function Constructor"</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">        m_Age </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> age;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">    </span></span>
<span class="line"><span style="color:#B392F0">    ~Person</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">        cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "Person Destructor"</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">    Person</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">const</span><span style="color:#B392F0"> Person</span><span style="color:#F97583"> &#x26;</span><span style="color:#FFAB70">p</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#E1E4E8">        cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "Person Copy Constructor"</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">        m_Age </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> p.age;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#F97583">private:</span></span>
<span class="line"><span style="color:#F97583">    int</span><span style="color:#E1E4E8"> age;</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">//拷贝构造函数调用时机</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">//1、使用一个已经创建完毕的对象来初始化一个新对象</span></span>
<span class="line"><span style="color:#F97583">void</span><span style="color:#B392F0"> test01</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">    Person </span><span style="color:#B392F0">p1</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">20</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">    Person </span><span style="color:#B392F0">p2</span><span style="color:#E1E4E8">(p1);</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"><span style="color:#6A737D">//2、值传递的方式给函数参数传值</span></span>
<span class="line"><span style="color:#F97583">void</span><span style="color:#B392F0"> Work</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Person</span><span style="color:#FFAB70"> p</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">void</span><span style="color:#B392F0"> test02</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">    Person p;</span></span>
<span class="line"><span style="color:#B392F0">    Work</span><span style="color:#E1E4E8">(p);</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"><span style="color:#6A737D">//3、值方式返回局部对象</span></span>
<span class="line"><span style="color:#F97583">void</span><span style="color:#B392F0"> Work02</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">    Person p1;</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#E1E4E8"> p1;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">void</span><span style="color:#B392F0"> test03</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">    Person p </span><span style="color:#F97583">=</span><span style="color:#B392F0"> Work02</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">int</span><span style="color:#B392F0"> main</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#6A737D">    // test01();</span></span>
<span class="line"><span style="color:#B392F0">    test02</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span></code></pre>
<h3 id="4构造函数调用规则">4、构造函数调用规则</h3>
<p>默认情况下，编译器会自动为一个类提供三个函数：</p>
<ol>
<li>默认构造函数（无参，空实现）</li>
<li>默认析构函数（无参，空实现）</li>
<li>默认拷贝构造函数，对属性进行值拷贝</li>
</ol>
<p>规则：1、<strong>如果写了有参构造函数，编译器就不再提供默认构造，依然提供拷</strong></p>
<p><strong>贝构造。</strong></p>
<p>2、<strong>如果写了拷贝构造函数，编译器不再提供其他普通构造函数</strong></p>
<p>例4：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#F97583">#include</span><span style="color:#9ECBFF"> &#x3C;iostream></span></span>
<span class="line"><span style="color:#F97583">using</span><span style="color:#F97583"> namespace</span><span style="color:#B392F0"> std</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> Person</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">public:</span></span>
<span class="line"><span style="color:#6A737D">    // Person() {</span></span>
<span class="line"><span style="color:#6A737D">    //     cout &#x3C;&#x3C; "Person Constructor" &#x3C;&#x3C; endl;</span></span>
<span class="line"><span style="color:#6A737D">    // }</span></span>
<span class="line"><span style="color:#E1E4E8">    </span></span>
<span class="line"><span style="color:#B392F0">    Person</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">int</span><span style="color:#FFAB70"> age</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#E1E4E8">         cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "Person Function Constructor"</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">         m_Age </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> age;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">    Person</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">const</span><span style="color:#B392F0"> Person</span><span style="color:#F97583"> &#x26;</span><span style="color:#FFAB70">p</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#E1E4E8">        m_Age </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> p.m_Age;</span></span>
<span class="line"><span style="color:#E1E4E8">        cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "Person Copy Constructor"</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">    ~Person</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">        cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "Person Destructor"</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    int</span><span style="color:#E1E4E8"> m_Age;</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">// void test01() {</span></span>
<span class="line"><span style="color:#6A737D">//     Person p;</span></span>
<span class="line"><span style="color:#6A737D">//     p.m_Age = 18;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">//     Person p2(p);</span></span>
<span class="line"><span style="color:#6A737D">//     cout &#x3C;&#x3C; "P2's age " &#x3C;&#x3C; p2.m_Age &#x3C;&#x3C; endl; </span></span>
<span class="line"><span style="color:#6A737D">// }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">void</span><span style="color:#B392F0"> test02</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">    Person </span><span style="color:#B392F0">p</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">28</span><span style="color:#E1E4E8">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">    Person </span><span style="color:#B392F0">p2</span><span style="color:#E1E4E8">(p);</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">int</span><span style="color:#B392F0"> main</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#6A737D">    // test01();</span></span>
<span class="line"><span style="color:#B392F0">    test02</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span></code></pre>
<h3 id="5深拷贝与浅拷贝">5、深拷贝与浅拷贝</h3>













<table><thead><tr><th>浅拷贝</th><th>深拷贝</th></tr></thead><tbody><tr><td>简单的复制拷贝操作</td><td>在堆区重新申请空间，进行拷贝操作</td></tr></tbody></table>
<p><strong>深拷贝后，析构函数中应当对堆区开辟的数据进行释放。</strong></p>
<p>例5：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#F97583">#include</span><span style="color:#9ECBFF"> &#x3C;iostream></span></span>
<span class="line"><span style="color:#F97583">using</span><span style="color:#F97583"> namespace</span><span style="color:#B392F0"> std</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">//深拷贝和浅拷贝</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> Person</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">public:</span></span>
<span class="line"><span style="color:#B392F0">    Person</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">        cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "Person Constructor"</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">    Person</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">int</span><span style="color:#FFAB70"> age</span><span style="color:#E1E4E8">, </span><span style="color:#F97583">int</span><span style="color:#FFAB70"> height</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#E1E4E8">        cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "Person Function Constructor"</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">        m_Age </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> age;</span></span>
<span class="line"><span style="color:#E1E4E8">        m_Height </span><span style="color:#F97583">=</span><span style="color:#F97583"> new</span><span style="color:#F97583"> int</span><span style="color:#E1E4E8">(height);</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">    //自己实现拷贝构造函数，解决浅拷贝带来的问题</span></span>
<span class="line"><span style="color:#B392F0">    Person</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">const</span><span style="color:#B392F0"> Person</span><span style="color:#F97583"> &#x26;</span><span style="color:#FFAB70">p</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#E1E4E8">        cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "Person Copy Constructor"</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">        m_Age </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> p.m_Age;</span></span>
<span class="line"><span style="color:#6A737D">        //深拷贝操作</span></span>
<span class="line"><span style="color:#E1E4E8">        m_Height </span><span style="color:#F97583">=</span><span style="color:#F97583"> new</span><span style="color:#F97583"> int</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">*</span><span style="color:#E1E4E8">p.m_Height);</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">    ~Person</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">        cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "Person Destructor"</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#6A737D">        //析构代码</span></span>
<span class="line"><span style="color:#6A737D">        //将堆区开辟的数据进行释放</span></span>
<span class="line"><span style="color:#F97583">        if</span><span style="color:#E1E4E8"> (m_Height </span><span style="color:#F97583">!=</span><span style="color:#79B8FF"> NULL</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">            delete</span><span style="color:#E1E4E8"> m_Height;</span></span>
<span class="line"><span style="color:#E1E4E8">        }</span></span>
<span class="line"><span style="color:#E1E4E8">        m_Height </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> NULL</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    int</span><span style="color:#E1E4E8"> m_Age;</span></span>
<span class="line"><span style="color:#F97583">    int</span><span style="color:#F97583"> *</span><span style="color:#E1E4E8">m_Height;</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">void</span><span style="color:#B392F0"> test01</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">    Person </span><span style="color:#B392F0">p1</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">18</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">160</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">    cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "The age of p1 is "</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> p1.m_Age </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> " height is "</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#F97583"> *</span><span style="color:#E1E4E8">p1.m_Height </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">    Person </span><span style="color:#B392F0">p2</span><span style="color:#E1E4E8">(p1);</span></span>
<span class="line"><span style="color:#E1E4E8">    cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "The age of p2 is "</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> p2.m_Age </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> " height is "</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#F97583"> *</span><span style="color:#E1E4E8">p2.m_Height </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">int</span><span style="color:#B392F0"> main</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#B392F0">    test01</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span></code></pre>
<h3 id="6初始化列表">6、初始化列表</h3>
<p>C++提供了初始化列表语法，用来初始化属性。</p>
<p><strong>语法：构造函数() : 属性1(值1), 属性2(值2), …</strong></p>
<p>例6：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#F97583">#include</span><span style="color:#9ECBFF"> &#x3C;iostream></span></span>
<span class="line"><span style="color:#F97583">using</span><span style="color:#F97583"> namespace</span><span style="color:#B392F0"> std</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">//初始化列表</span></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> Person</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">public:</span></span>
<span class="line"><span style="color:#6A737D">    //传统初始化操作</span></span>
<span class="line"><span style="color:#6A737D">    // Person(int a, int b, int c) {</span></span>
<span class="line"><span style="color:#6A737D">    //     m_A = a;</span></span>
<span class="line"><span style="color:#6A737D">    //     m_B = b;</span></span>
<span class="line"><span style="color:#6A737D">    //     m_C = c;</span></span>
<span class="line"><span style="color:#6A737D">    // }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">    //初始化列表</span></span>
<span class="line"><span style="color:#B392F0">    Person</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">int</span><span style="color:#FFAB70"> a</span><span style="color:#E1E4E8">, </span><span style="color:#F97583">int</span><span style="color:#FFAB70"> b</span><span style="color:#E1E4E8">, </span><span style="color:#F97583">int</span><span style="color:#FFAB70"> c</span><span style="color:#E1E4E8">) : </span><span style="color:#B392F0">m_A</span><span style="color:#E1E4E8">(a), </span><span style="color:#B392F0">m_B</span><span style="color:#E1E4E8">(b), </span><span style="color:#B392F0">m_C</span><span style="color:#E1E4E8">(c) {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#F97583">    int</span><span style="color:#E1E4E8"> m_A;</span></span>
<span class="line"><span style="color:#F97583">    int</span><span style="color:#E1E4E8"> m_B;</span></span>
<span class="line"><span style="color:#F97583">    int</span><span style="color:#E1E4E8"> m_C;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">void</span><span style="color:#B392F0"> test01</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#6A737D">    // Person p(10, 20, 30);</span></span>
<span class="line"><span style="color:#E1E4E8">    Person </span><span style="color:#B392F0">p</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">30</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">20</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">10</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">    cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "m_A = "</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> p.m_A </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">    cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "m_B = "</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> p.m_B </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">    cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "m_C = "</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> p.m_C </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">int</span><span style="color:#B392F0"> main</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#B392F0">    test01</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span></code></pre>
<h3 id="7类对象作为类成员">7、类对象作为类成员</h3>
<p>类中的成员可以是另一个类的对象，可以称该成员为对象成员。</p>
<p><strong>当其他类的对象作为本类成员时，构造时先构造类对象，再构造自身。</strong></p>
<p><strong>析构的顺序与构造顺序相反。</strong></p>
<p>例7：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#F97583">#include</span><span style="color:#9ECBFF"> &#x3C;iostream></span></span>
<span class="line"><span style="color:#F97583">#include</span><span style="color:#9ECBFF"> &#x3C;string.h></span></span>
<span class="line"><span style="color:#F97583">using</span><span style="color:#F97583"> namespace</span><span style="color:#B392F0"> std</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">//类对象作为类成员</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> Phone</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">public:</span></span>
<span class="line"><span style="color:#B392F0">    Phone</span><span style="color:#E1E4E8"> (string pName) {</span></span>
<span class="line"><span style="color:#E1E4E8">        m_PName </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> pName;</span></span>
<span class="line"><span style="color:#E1E4E8">        cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "Phone"</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#B392F0">    ~Phone</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">        cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "Phone Destructor"</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">    string m_PName;</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> Person</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">public:</span></span>
<span class="line"><span style="color:#B392F0">    Person</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">string</span><span style="color:#FFAB70"> name</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">string</span><span style="color:#FFAB70"> pName</span><span style="color:#E1E4E8">) : </span><span style="color:#B392F0">m_Name</span><span style="color:#E1E4E8">(name), </span><span style="color:#B392F0">m_Phone</span><span style="color:#E1E4E8">(pName) {</span></span>
<span class="line"><span style="color:#E1E4E8">        cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "Person"</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">    ~Person</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">        cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "Person Destructor"</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">    string m_Name;</span></span>
<span class="line"><span style="color:#E1E4E8">    Phone m_Phone;</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"><span style="color:#6A737D">//当其他类对象作为本类成员，构造时候先构造类对象，再构造自身</span></span>
<span class="line"><span style="color:#6A737D">//析构顺序与构造相反</span></span>
<span class="line"><span style="color:#F97583">void</span><span style="color:#B392F0"> test01</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">    Person </span><span style="color:#B392F0">p</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"Yonagi"</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">"iPhone 14 Pro"</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">    cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#E1E4E8"> p.m_Name </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> " use "</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> p.m_Phone.m_PName </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">int</span><span style="color:#B392F0"> main</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#B392F0">    test01</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span></code></pre>
<h3 id="8静态成员">8、静态成员</h3>
<p>静态成员就是在成员变量或成员函数前加关键词static，称为静态成员。</p>
<p>静态成员分为：</p>





















<table><thead><tr><th>静态成员变量</th><th>静态成员函数</th></tr></thead><tbody><tr><td>1、所有对象共享一份数据</td><td>1、所有对象共享同一个函数</td></tr><tr><td>2、在编译过程分配内存</td><td>2、静态成员函数只能访问静态成员变量</td></tr><tr><td>3、类内声明，类外初始化</td><td></td></tr></tbody></table>
<p><strong>静态成员变量，不属于某个对象上，所有对象都共享一份数据</strong>，因此静态</p>
<p>成员变量有两种访问方式：</p>
<ol>
<li>通过对象进行访问</li>
<li>通过类名进行访问</li>
</ol>
<p>例8：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#F97583">#include</span><span style="color:#9ECBFF"> &#x3C;iostream></span></span>
<span class="line"><span style="color:#F97583">using</span><span style="color:#F97583"> namespace</span><span style="color:#B392F0"> std</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> Person</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">public:</span></span>
<span class="line"><span style="color:#F97583">    static</span><span style="color:#F97583"> int</span><span style="color:#E1E4E8"> m_A;</span></span>
<span class="line"><span style="color:#6A737D">    //静态成员变量也有访问权限</span></span>
<span class="line"><span style="color:#F97583">private:</span></span>
<span class="line"><span style="color:#F97583">    static</span><span style="color:#F97583"> int</span><span style="color:#E1E4E8"> m_B;</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">int</span><span style="color:#B392F0"> Person</span><span style="color:#E1E4E8"> :: m_A </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 100</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#6A737D">// int Person :: m_B = 200;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">void</span><span style="color:#B392F0"> test01</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">    Person p;</span></span>
<span class="line"><span style="color:#E1E4E8">    cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#E1E4E8"> p.m_A </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">    Person p2;</span></span>
<span class="line"><span style="color:#E1E4E8">    p2.m_A </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 200</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">    cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#E1E4E8"> p.m_A </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span><span style="color:#6A737D">//共享一份数据</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">void</span><span style="color:#B392F0"> test02</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#6A737D">    //静态成员变量 不属于某个对象上，所有对象都共享同一份数据</span></span>
<span class="line"><span style="color:#6A737D">    //因此静态成员变量有两种访问方式</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">    //1、通过对象进行访问</span></span>
<span class="line"><span style="color:#E1E4E8">    Person p;</span></span>
<span class="line"><span style="color:#E1E4E8">    cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#E1E4E8"> p.m_A </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#6A737D">    //2、通过类名进行访问</span></span>
<span class="line"><span style="color:#E1E4E8">    cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#B392F0"> Person</span><span style="color:#E1E4E8"> :: m_A </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#6A737D">    // cout &#x3C;&#x3C; Person :: m_B &#x3C;&#x3C; endl; //类外访问不到私有成员变量</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">int</span><span style="color:#B392F0"> main</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#6A737D">    // test01();</span></span>
<span class="line"><span style="color:#B392F0">    test02</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span></code></pre>
<p><strong>静态成员函数，所有对象都共享同一个函数，且静态函数只能访问静态成员</strong></p>
<p><strong>变量。</strong></p>
<p>例9：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#F97583">#include</span><span style="color:#9ECBFF"> &#x3C;iostream></span></span>
<span class="line"><span style="color:#F97583">using</span><span style="color:#F97583"> namespace</span><span style="color:#B392F0"> std</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> Person</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">public:</span></span>
<span class="line"><span style="color:#F97583">    static</span><span style="color:#F97583"> void</span><span style="color:#B392F0"> func</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">        m_A </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 100</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#6A737D">        // m_B = 200; //静态成员函数不能访问非静态成员变量</span></span>
<span class="line"><span style="color:#E1E4E8">        cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "static func()"</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#F97583">    static</span><span style="color:#F97583"> int</span><span style="color:#E1E4E8"> m_A;</span></span>
<span class="line"><span style="color:#F97583">    int</span><span style="color:#E1E4E8"> m_B;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">    //静态成员函数也有访问权限</span></span>
<span class="line"><span style="color:#F97583">private:</span></span>
<span class="line"><span style="color:#F97583">    static</span><span style="color:#F97583"> void</span><span style="color:#B392F0"> func2</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">        cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "static func2()"</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">int</span><span style="color:#B392F0"> Person</span><span style="color:#E1E4E8"> :: m_A </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">void</span><span style="color:#B392F0"> test01</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#6A737D">    //1、通过对象进行访问</span></span>
<span class="line"><span style="color:#E1E4E8">    Person p;</span></span>
<span class="line"><span style="color:#E1E4E8">    p.</span><span style="color:#B392F0">func</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#6A737D">    //2、通过类名访问</span></span>
<span class="line"><span style="color:#B392F0">    Person</span><span style="color:#E1E4E8"> :: </span><span style="color:#B392F0">func</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#6A737D">    // Person :: func2(); //类外访问不到私有成员函数</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">int</span><span style="color:#B392F0"> main</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#B392F0">    test01</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span></code></pre>
<h2 id="四c对象模型">四、C++对象模型</h2>
<h3 id="1成员变量与成员函数的存储">1、成员变量与成员函数的存储</h3>
<p>在C++中，类内的成员变量和成员函数是分开存储的。</p>
<p>只有非静态成员变量属于类对象。</p>
<p><strong>空对象占用内存为1。</strong></p>
<p>编译器会给每个空对象分配一个字节的空间，是为了区分空对象占内存的位</p>
<p>置，因此<strong>每个空对象也拥有一个独一无二的内存地址。</strong></p>
<p>例1：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#F97583">#include</span><span style="color:#9ECBFF"> &#x3C;iostream></span></span>
<span class="line"><span style="color:#F97583">using</span><span style="color:#F97583"> namespace</span><span style="color:#B392F0"> std</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">//成员变量和成员函数是分开存储的</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> Person</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">    int</span><span style="color:#E1E4E8"> m_A;</span><span style="color:#6A737D"> //非静态成员变量 属于类对象</span></span>
<span class="line"><span style="color:#F97583">    static</span><span style="color:#F97583"> int</span><span style="color:#E1E4E8"> m_B;</span><span style="color:#6A737D"> //静态成员变量 不属于类对象上</span></span>
<span class="line"><span style="color:#F97583">    void</span><span style="color:#B392F0"> func</span><span style="color:#E1E4E8">() {}</span><span style="color:#6A737D"> //非静态成员函数 不属于类对象上</span></span>
<span class="line"><span style="color:#F97583">    static</span><span style="color:#F97583"> void</span><span style="color:#B392F0"> func2</span><span style="color:#E1E4E8">() {}</span><span style="color:#6A737D"> //静态成员函数 不属于类对象上</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">int</span><span style="color:#B392F0"> Person</span><span style="color:#E1E4E8"> :: m_B </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 100</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">void</span><span style="color:#B392F0"> test01</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">    Person p;</span></span>
<span class="line"><span style="color:#E1E4E8">    cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "sizeof p is "</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#F97583"> sizeof</span><span style="color:#E1E4E8">(p) </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">int</span><span style="color:#B392F0"> main</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#B392F0">    test01</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span></code></pre>
<h3 id="2this指针">2、this指针</h3>
<p>this指针是隐含在每个非静态成员函数内的一种指针。</p>
<p>this指针指向被调用的成员函数所属的对象。</p>
<p>this指针不需要定义，可以直接使用。</p>
<p>this指针的用途：</p>
<ol>
<li><strong>当形参和成员变量同名时，可以用this指针区分</strong></li>
<li><strong>在类的非静态成员函数中返回对象本身，可以使用</strong>return *this</li>
</ol>
<p><strong>this指针的本质是指针常量，指针指向不能修改。</strong></p>
<p>例2：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#F97583">#include</span><span style="color:#9ECBFF"> &#x3C;iostream></span></span>
<span class="line"><span style="color:#F97583">using</span><span style="color:#F97583"> namespace</span><span style="color:#B392F0"> std</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> Person</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">public:</span></span>
<span class="line"><span style="color:#B392F0">    Person</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">int</span><span style="color:#E1E4E8"> age) {</span></span>
<span class="line"><span style="color:#6A737D">        //this指针指向的是被调用成员函数所属的对象</span></span>
<span class="line"><span style="color:#79B8FF">        this</span><span style="color:#F97583"> -></span><span style="color:#E1E4E8"> age </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> age;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">    Person</span><span style="color:#F97583">&#x26;</span><span style="color:#B392F0"> PersonAddAge</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Person</span><span style="color:#F97583"> &#x26;</span><span style="color:#FFAB70">p</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#79B8FF">        this</span><span style="color:#E1E4E8">->age </span><span style="color:#F97583">+=</span><span style="color:#E1E4E8"> p.age;</span></span>
<span class="line"><span style="color:#6A737D">        //this是指向p2的指针</span></span>
<span class="line"><span style="color:#F97583">        return</span><span style="color:#F97583"> *</span><span style="color:#79B8FF">this</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    int</span><span style="color:#E1E4E8"> age;</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">//1、解决名称冲突</span></span>
<span class="line"><span style="color:#F97583">void</span><span style="color:#B392F0"> test01</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">    Person </span><span style="color:#B392F0">p1</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">18</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">    cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "p1's age is "</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> p1.age </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"><span style="color:#6A737D">//2、返回对象本身用 *this</span></span>
<span class="line"><span style="color:#F97583">void</span><span style="color:#B392F0"> test02</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">    Person </span><span style="color:#B392F0">p1</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">10</span><span style="color:#E1E4E8">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">    Person </span><span style="color:#B392F0">p2</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">10</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">    </span></span>
<span class="line"><span style="color:#E1E4E8">    p2.</span><span style="color:#B392F0">PersonAddAge</span><span style="color:#E1E4E8">(p1).</span><span style="color:#B392F0">PersonAddAge</span><span style="color:#E1E4E8">(p1).</span><span style="color:#B392F0">PersonAddAge</span><span style="color:#E1E4E8">(p1);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">    cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "p2's age is "</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> p2.age </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">int</span><span style="color:#B392F0"> main</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#B392F0">    test01</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#B392F0">    test02</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span></code></pre>
<h3 id="3空指针访问成员函数">3、空指针访问成员函数</h3>
<p>C++中，空指针是可以访问成员函数的。</p>
<p>如果用到了this指针，就需要对指针是否为空进行判定。</p>
<p>例3：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#F97583">#include</span><span style="color:#9ECBFF"> &#x3C;iostream></span></span>
<span class="line"><span style="color:#F97583">using</span><span style="color:#F97583"> namespace</span><span style="color:#B392F0"> std</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">//空指针调用成员函数</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> Person</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">public:</span></span>
<span class="line"><span style="color:#F97583">    void</span><span style="color:#B392F0"> showClassName</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">        cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "this is Person class"</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    void</span><span style="color:#B392F0"> showPersonAge</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#6A737D">        //报错原因是传入的指针为null，需要进行判定</span></span>
<span class="line"><span style="color:#F97583">        if</span><span style="color:#E1E4E8"> (</span><span style="color:#79B8FF">this</span><span style="color:#F97583"> ==</span><span style="color:#79B8FF"> NULL</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">            return</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">        }</span></span>
<span class="line"><span style="color:#E1E4E8">        cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "age = "</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> m_Age </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#F97583">    int</span><span style="color:#E1E4E8"> m_Age;</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">void</span><span style="color:#B392F0"> test01</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">    Person </span><span style="color:#F97583">*</span><span style="color:#E1E4E8">p </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> NULL</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">    p -> </span><span style="color:#B392F0">showClassName</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">    p -> </span><span style="color:#B392F0">showPersonAge</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">int</span><span style="color:#B392F0"> main</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#B392F0">    test01</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span></code></pre>
<h3 id="4常函数和常对象">4、常函数和常对象</h3>
<p>常函数：</p>
<ol>
<li>成员函数后加const称这个函数为常函数</li>
<li>常函数内不能修改成员属性</li>
<li>成员属性声明时加关键词mutable，在常函数中依然可以修改</li>
</ol>
<p>常对象：</p>
<ol>
<li>声明对象前加const称该对象为常对象</li>
<li>常对象只能调用常函数</li>
</ol>
<p>例4：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#F97583">#include</span><span style="color:#9ECBFF"> &#x3C;iostream></span></span>
<span class="line"><span style="color:#F97583">using</span><span style="color:#F97583"> namespace</span><span style="color:#B392F0"> std</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">//常函数</span></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> Person</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">public:</span></span>
<span class="line"><span style="color:#6A737D">    // const Person * const this;</span></span>
<span class="line"><span style="color:#6A737D">    //在成员函数后面加const，修饰的是this指向，使指针指向的值不可以修改</span></span>
<span class="line"><span style="color:#F97583">    void</span><span style="color:#B392F0"> showPerson</span><span style="color:#E1E4E8">() </span><span style="color:#F97583">const</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#6A737D">        // this -> m_A = 100;</span></span>
<span class="line"><span style="color:#6A737D">        // this = NULL; //this指针不能修改指针指向</span></span>
<span class="line"><span style="color:#79B8FF">        this</span><span style="color:#F97583"> -></span><span style="color:#E1E4E8"> m_B </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 100</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#F97583">    void</span><span style="color:#B392F0"> func</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">        m_B </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 100</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#F97583">    int</span><span style="color:#E1E4E8"> m_A;</span></span>
<span class="line"><span style="color:#F97583">    mutable</span><span style="color:#F97583"> int</span><span style="color:#E1E4E8"> m_B;</span><span style="color:#6A737D"> //特殊变量，即使在常函数中，也可以修改这个值，加mutable</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">void</span><span style="color:#B392F0"> test01</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">    Person p;</span></span>
<span class="line"><span style="color:#E1E4E8">    p.</span><span style="color:#B392F0">showPerson</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"><span style="color:#6A737D">//常对象</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">void</span><span style="color:#B392F0"> test02</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#F97583">    const</span><span style="color:#E1E4E8"> Person p;</span><span style="color:#6A737D"> //在对象前加const，变为常对象</span></span>
<span class="line"><span style="color:#6A737D">    // p.m_A = 100;</span></span>
<span class="line"><span style="color:#E1E4E8">    p.m_B </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 100</span><span style="color:#E1E4E8">;</span><span style="color:#6A737D"> //m_B是特殊值，在常对象下可以修改</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">    //常对象只能调用常函数</span></span>
<span class="line"><span style="color:#E1E4E8">    p.</span><span style="color:#B392F0">showPerson</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#6A737D">    //p.func(); //常对象不能调用普通成员函数，因为普通成员函数可以修改属性</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">int</span><span style="color:#B392F0"> main</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#B392F0">    test01</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span></code></pre>
<h2 id="五友元">五、友元</h2>
<p>在程序里，有些私有属性也想让类外一些特殊的函数或类进行访问，这就需</p>
<p>要用到友元。</p>
<p><strong>友元的目的，就是让一个函数或类访问另一个类中的私有成员。</strong></p>
<p>友元的关键字 friend。</p>
<p>友元有三种实现方式：</p>
<ol>
<li>全局函数做友元</li>
<li>类做友元</li>
<li>成员函数做友元</li>
</ol>
<h3 id="1全局函数做友元">1、全局函数做友元</h3>
<p><strong>如果需要全局函数做友元，就把全局函数的 <em>返回类型 函数名(参数列表)</em> 部分复制</strong></p>
<p><strong>粘贴到类的前面，然后在语句前加关键字friend。</strong></p>
<p>例1：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#F97583">#include</span><span style="color:#9ECBFF"> &#x3C;iostream></span></span>
<span class="line"><span style="color:#F97583">using</span><span style="color:#F97583"> namespace</span><span style="color:#B392F0"> std</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">//友元</span></span>
<span class="line"><span style="color:#6A737D">//目的：让一个函数或者类 访问另一个类中私有成员</span></span>
<span class="line"><span style="color:#6A737D">//关键词：friend</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> Building</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#6A737D">    //goodFriend 是building的友元，可以访问私有属性</span></span>
<span class="line"><span style="color:#F97583">    friend</span><span style="color:#F97583"> void</span><span style="color:#B392F0"> goodFriend</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Building</span><span style="color:#F97583"> *</span><span style="color:#FFAB70">building</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#F97583">public:</span></span>
<span class="line"><span style="color:#E1E4E8">    string m_SittingRoom;</span></span>
<span class="line"><span style="color:#F97583">public:</span></span>
<span class="line"><span style="color:#B392F0">    Building</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">        m_SittingRoom </span><span style="color:#F97583">=</span><span style="color:#9ECBFF"> "客厅"</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">        m_BedRoom </span><span style="color:#F97583">=</span><span style="color:#9ECBFF"> "卧室"</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#F97583">private:</span></span>
<span class="line"><span style="color:#E1E4E8">    string m_BedRoom;</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">//全局函数</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">void</span><span style="color:#B392F0"> goodFriend</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Building</span><span style="color:#F97583"> *</span><span style="color:#FFAB70">building</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#E1E4E8">    cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "Good Friend is founding "</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> building -> m_SittingRoom </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">    cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "Good Friend is founding "</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> building -> m_BedRoom </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">void</span><span style="color:#B392F0"> test01</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">    Building building;</span></span>
<span class="line"><span style="color:#B392F0">    goodFriend</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&#x26;</span><span style="color:#E1E4E8">building);</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">int</span><span style="color:#B392F0"> main</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#B392F0">    test01</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span></code></pre>
<h3 id="2类做友元">2、类做友元</h3>
<p><strong>和全局函数做友元同理，如果类做友元，只需要将 <em>class 做友元的类名</em>   复制</strong></p>
<p><strong>粘贴到另一个类的前面，然后在语句前加入关键字friend。</strong></p>
<p>例2：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#F97583">#include</span><span style="color:#9ECBFF"> &#x3C;iostream></span></span>
<span class="line"><span style="color:#F97583">using</span><span style="color:#F97583"> namespace</span><span style="color:#B392F0"> std</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">#include</span><span style="color:#9ECBFF"> &#x3C;string.h></span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">//类作友元</span></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> Building</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> GoodFriend</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">public:</span></span>
<span class="line"><span style="color:#B392F0">    GoodFriend</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#F97583">    void</span><span style="color:#B392F0"> visit</span><span style="color:#E1E4E8">();</span><span style="color:#6A737D"> //参观函数 访问building中的属性</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">    Building </span><span style="color:#F97583">*</span><span style="color:#E1E4E8">building;</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> Building</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#6A737D">    //GoodFriend是本类的友元</span></span>
<span class="line"><span style="color:#F97583">    friend</span><span style="color:#F97583"> class</span><span style="color:#B392F0"> GoodFriend</span><span style="color:#E1E4E8">; </span></span>
<span class="line"><span style="color:#F97583">public:</span></span>
<span class="line"><span style="color:#B392F0">    Building</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#F97583">public:</span></span>
<span class="line"><span style="color:#E1E4E8">    string m_SittingRoom;</span></span>
<span class="line"><span style="color:#F97583">private:</span></span>
<span class="line"><span style="color:#E1E4E8">    string m_BedRoom;</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">//类外写成员函数</span></span>
<span class="line"><span style="color:#B392F0">Building</span><span style="color:#E1E4E8"> :: </span><span style="color:#B392F0">Building</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">    m_SittingRoom </span><span style="color:#F97583">=</span><span style="color:#9ECBFF"> "客厅"</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">    m_BedRoom </span><span style="color:#F97583">=</span><span style="color:#9ECBFF"> "卧室"</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">GoodFriend</span><span style="color:#E1E4E8"> :: </span><span style="color:#B392F0">GoodFriend</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#6A737D">    //创建建筑物对象</span></span>
<span class="line"><span style="color:#E1E4E8">    building </span><span style="color:#F97583">=</span><span style="color:#F97583"> new</span><span style="color:#E1E4E8"> Building;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">void</span><span style="color:#B392F0"> GoodFriend</span><span style="color:#E1E4E8"> :: </span><span style="color:#B392F0">visit</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">    cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "Good Friend is visiting "</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> building -> m_SittingRoom </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">    cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "Good Friend is visiting "</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> building -> m_BedRoom </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">void</span><span style="color:#B392F0"> test01</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">    GoodFriend gg;</span></span>
<span class="line"><span style="color:#E1E4E8">    gg.</span><span style="color:#B392F0">visit</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">int</span><span style="color:#B392F0"> main</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#B392F0">    test01</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span></code></pre>
<h3 id="3成员函数做友元">3、成员函数做友元</h3>
<p><strong>成员函数做友元，只需要将 <em>返回类型 成员函数所属类 ：：做友元的函数名</em></strong></p>
<p><strong><em>(参数列表)</em> 输入到另一个类的前面，然后在语句前加入关键字friend。</strong></p>
<p>例3：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#F97583">#include</span><span style="color:#9ECBFF"> &#x3C;iostream></span></span>
<span class="line"><span style="color:#F97583">using</span><span style="color:#F97583"> namespace</span><span style="color:#B392F0"> std</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">#include</span><span style="color:#9ECBFF"> &#x3C;string></span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> Building</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> GoodFriend</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">public:</span></span>
<span class="line"><span style="color:#B392F0">    GoodFriend</span><span style="color:#E1E4E8">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    void</span><span style="color:#B392F0"> visit</span><span style="color:#E1E4E8">();</span><span style="color:#6A737D"> //visit函数可以访问Buil中私有成员</span></span>
<span class="line"><span style="color:#F97583">    void</span><span style="color:#B392F0"> visit2</span><span style="color:#E1E4E8">();</span><span style="color:#6A737D"> //visit2函数不可以访问Building中私有成员</span></span>
<span class="line"><span style="color:#E1E4E8">    Building </span><span style="color:#F97583">*</span><span style="color:#E1E4E8">building;</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> Building</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#6A737D">    //GoodFriend下visit函数作为building的友元函数</span></span>
<span class="line"><span style="color:#F97583">    friend</span><span style="color:#F97583"> void</span><span style="color:#B392F0"> GoodFriend</span><span style="color:#E1E4E8"> :: </span><span style="color:#B392F0">visit</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#F97583">public:</span></span>
<span class="line"><span style="color:#B392F0">    Building</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#F97583">public:</span></span>
<span class="line"><span style="color:#E1E4E8">    string m_SittingRoom;</span></span>
<span class="line"><span style="color:#F97583">private:</span></span>
<span class="line"><span style="color:#E1E4E8">    string m_BedRoom;</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">Building</span><span style="color:#E1E4E8"> :: </span><span style="color:#B392F0">Building</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">    m_SittingRoom </span><span style="color:#F97583">=</span><span style="color:#9ECBFF"> "客厅"</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">    m_BedRoom </span><span style="color:#F97583">=</span><span style="color:#9ECBFF"> "卧室"</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">GoodFriend</span><span style="color:#E1E4E8"> :: </span><span style="color:#B392F0">GoodFriend</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">    building </span><span style="color:#F97583">=</span><span style="color:#F97583"> new</span><span style="color:#E1E4E8"> Building;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">void</span><span style="color:#B392F0"> GoodFriend</span><span style="color:#E1E4E8"> :: </span><span style="color:#B392F0">visit</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">    cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "visit "</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> building ->m_SittingRoom </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">    cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "visit "</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> building ->m_BedRoom </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"><span style="color:#F97583">void</span><span style="color:#B392F0"> GoodFriend</span><span style="color:#E1E4E8"> :: </span><span style="color:#B392F0">visit2</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">    cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "visit "</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> building ->m_SittingRoom </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">    // cout &#x3C;&#x3C; "visit " &#x3C;&#x3C; building ->m_BedRoom &#x3C;&#x3C; endl;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">int</span><span style="color:#B392F0"> main</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">    GoodFriend gg;</span></span>
<span class="line"><span style="color:#E1E4E8">    gg.</span><span style="color:#B392F0">visit</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#6A737D">    //gg.visit2();</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span></code></pre>
<h2 id="六继承">六、继承</h2>
<p>继承是面向对象三大特性之一。</p>
<p>有些类与类之间具有共性，此时就可以使用继承，减少重复代码。</p>
<p>继承的好处：减少重复代码。</p>
<p><strong>语法：class 子类 : 继承方式 父类</strong></p>
<p>其中，子类又称为派生类，父类又称为基类。</p>
<p>例1：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#F97583">#include</span><span style="color:#9ECBFF"> &#x3C;iostream></span></span>
<span class="line"><span style="color:#F97583">using</span><span style="color:#F97583"> namespace</span><span style="color:#B392F0"> std</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">//普通实现</span></span>
<span class="line"><span style="color:#6A737D">// class Java {</span></span>
<span class="line"><span style="color:#6A737D">// public:</span></span>
<span class="line"><span style="color:#6A737D">//     void header() {</span></span>
<span class="line"><span style="color:#6A737D">//         cout &#x3C;&#x3C; "首页 公开课 注册 登录" &#x3C;&#x3C; endl;</span></span>
<span class="line"><span style="color:#6A737D">//     }</span></span>
<span class="line"><span style="color:#6A737D">//     void footer() {</span></span>
<span class="line"><span style="color:#6A737D">//         cout &#x3C;&#x3C; "帮助中心 站内地图" &#x3C;&#x3C; endl;</span></span>
<span class="line"><span style="color:#6A737D">//     }</span></span>
<span class="line"><span style="color:#6A737D">//     void left() {</span></span>
<span class="line"><span style="color:#6A737D">//         cout &#x3C;&#x3C; "Java、Python、C/C++" &#x3C;&#x3C; endl;</span></span>
<span class="line"><span style="color:#6A737D">//     }</span></span>
<span class="line"><span style="color:#6A737D">//     void content() {</span></span>
<span class="line"><span style="color:#6A737D">//         cout &#x3C;&#x3C; "Java视频" &#x3C;&#x3C; endl;</span></span>
<span class="line"><span style="color:#6A737D">//     }</span></span>
<span class="line"><span style="color:#6A737D">// };</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">// class Python {</span></span>
<span class="line"><span style="color:#6A737D">// public:</span></span>
<span class="line"><span style="color:#6A737D">//     void header() {</span></span>
<span class="line"><span style="color:#6A737D">//         cout &#x3C;&#x3C; "首页 公开课 注册 登录" &#x3C;&#x3C; endl;</span></span>
<span class="line"><span style="color:#6A737D">//     }</span></span>
<span class="line"><span style="color:#6A737D">//     void footer() {</span></span>
<span class="line"><span style="color:#6A737D">//         cout &#x3C;&#x3C; "帮助中心 站内地图" &#x3C;&#x3C; endl;</span></span>
<span class="line"><span style="color:#6A737D">//     }</span></span>
<span class="line"><span style="color:#6A737D">//     void left() {</span></span>
<span class="line"><span style="color:#6A737D">//         cout &#x3C;&#x3C; "Java、Python、C/C++" &#x3C;&#x3C; endl;</span></span>
<span class="line"><span style="color:#6A737D">//     }</span></span>
<span class="line"><span style="color:#6A737D">//     void content() {</span></span>
<span class="line"><span style="color:#6A737D">//         cout &#x3C;&#x3C; "Python视频" &#x3C;&#x3C; endl;</span></span>
<span class="line"><span style="color:#6A737D">//     }</span></span>
<span class="line"><span style="color:#6A737D">// };</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">// class C {</span></span>
<span class="line"><span style="color:#6A737D">// public:</span></span>
<span class="line"><span style="color:#6A737D">//     void header() {</span></span>
<span class="line"><span style="color:#6A737D">//         cout &#x3C;&#x3C; "首页 公开课 注册 登录" &#x3C;&#x3C; endl;</span></span>
<span class="line"><span style="color:#6A737D">//     }</span></span>
<span class="line"><span style="color:#6A737D">//     void footer() {</span></span>
<span class="line"><span style="color:#6A737D">//         cout &#x3C;&#x3C; "帮助中心 站内地图" &#x3C;&#x3C; endl;</span></span>
<span class="line"><span style="color:#6A737D">//     }</span></span>
<span class="line"><span style="color:#6A737D">//     void left() {</span></span>
<span class="line"><span style="color:#6A737D">//         cout &#x3C;&#x3C; "Java、Python、C/C++" &#x3C;&#x3C; endl;</span></span>
<span class="line"><span style="color:#6A737D">//     }</span></span>
<span class="line"><span style="color:#6A737D">//     void content() {</span></span>
<span class="line"><span style="color:#6A737D">//         cout &#x3C;&#x3C; "C++视频" &#x3C;&#x3C; endl;</span></span>
<span class="line"><span style="color:#6A737D">//     }</span></span>
<span class="line"><span style="color:#6A737D">// };</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">//void test01() {</span></span>
<span class="line"><span style="color:#6A737D">//    Java ja;</span></span>
<span class="line"><span style="color:#6A737D">//    ja.header();</span></span>
<span class="line"><span style="color:#6A737D">//    ja.footer();</span></span>
<span class="line"><span style="color:#6A737D">//    ja.left();</span></span>
<span class="line"><span style="color:#6A737D">//    ja.content();</span></span>
<span class="line"><span style="color:#6A737D">//    cout &#x3C;&#x3C; "===============" &#x3C;&#x3C; endl;</span></span>
<span class="line"><span style="color:#6A737D">//    Python py;</span></span>
<span class="line"><span style="color:#6A737D">//    py.header();</span></span>
<span class="line"><span style="color:#6A737D">//    py.footer();</span></span>
<span class="line"><span style="color:#6A737D">//    py.left();</span></span>
<span class="line"><span style="color:#6A737D">//    py.content();</span></span>
<span class="line"><span style="color:#6A737D">//    cout &#x3C;&#x3C; "===============" &#x3C;&#x3C; endl;</span></span>
<span class="line"><span style="color:#6A737D">//    C c;</span></span>
<span class="line"><span style="color:#6A737D">//    c.header();</span></span>
<span class="line"><span style="color:#6A737D">//    c.footer();</span></span>
<span class="line"><span style="color:#6A737D">//    c.left();</span></span>
<span class="line"><span style="color:#6A737D">//    c.content();</span></span>
<span class="line"><span style="color:#6A737D">//}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">//继承实现</span></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> BasePage</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">public:</span></span>
<span class="line"><span style="color:#F97583">    void</span><span style="color:#B392F0"> header</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">        cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "首页 公开课 注册 登录"</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#F97583">    void</span><span style="color:#B392F0"> footer</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">        cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "帮助中心 站内地图"</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#F97583">    void</span><span style="color:#B392F0"> left</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">        cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "Java、Python、C/C++"</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> Java</span><span style="color:#E1E4E8"> : </span><span style="color:#F97583">public</span><span style="color:#B392F0"> BasePage</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">public:</span></span>
<span class="line"><span style="color:#F97583">    void</span><span style="color:#B392F0"> content</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">        cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "Java视频"</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> Python</span><span style="color:#E1E4E8"> : </span><span style="color:#F97583">public</span><span style="color:#B392F0"> BasePage</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">public:</span></span>
<span class="line"><span style="color:#F97583">    void</span><span style="color:#B392F0"> content</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">        cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "Python视频"</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> C</span><span style="color:#E1E4E8"> : </span><span style="color:#F97583">public</span><span style="color:#B392F0"> BasePage</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">public:</span></span>
<span class="line"><span style="color:#F97583">    void</span><span style="color:#B392F0"> content</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">        cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "C++视频"</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">int</span><span style="color:#B392F0"> main</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#6A737D">    //test01();</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span></code></pre>
<h3 id="1继承方式">1、继承方式</h3>
<p><strong>继承有三种方式：公共继承、保护继承、私有继承。</strong></p>
<p>公共继承：</p>
<ol>
<li>父类中公共权限成员，到了子类中依然是公共权限。</li>
<li>父类中保护权限成员，到了子类中依然是保护权限。</li>
<li>父类中私有权限成员，到了子类中无法访问。</li>
</ol>
<p>保护继承：</p>
<ol>
<li>父类中公共权限成员，到了子类变为保护权限。</li>
<li>父类中保护权限成员，到了子类依然是保护权限。</li>
<li>父类中私有权限成员，到了子类中无法访问。</li>
</ol>
<p>私有继承：</p>
<ol>
<li>父类中公共权限成员，到了子类变为私有权限。</li>
<li>父类中保护权限成员，到了子类变成私有权限。</li>
<li>父类中私有权限成员，子类无法访问。</li>
</ol>
<p>例2：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#F97583">#include</span><span style="color:#9ECBFF"> &#x3C;iostream></span></span>
<span class="line"><span style="color:#F97583">using</span><span style="color:#F97583"> namespace</span><span style="color:#B392F0"> std</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">//继承方式</span></span>
<span class="line"><span style="color:#6A737D">//公共继承，保护继承，私有继承</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> Base1</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">public:</span></span>
<span class="line"><span style="color:#F97583">    int</span><span style="color:#E1E4E8"> m_A;</span></span>
<span class="line"><span style="color:#F97583">protected:</span></span>
<span class="line"><span style="color:#F97583">    int</span><span style="color:#E1E4E8"> m_B;</span></span>
<span class="line"><span style="color:#F97583">private:</span></span>
<span class="line"><span style="color:#F97583">    int</span><span style="color:#E1E4E8"> m_C;</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"><span style="color:#6A737D">//公共继承</span></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> Son1</span><span style="color:#E1E4E8"> : </span><span style="color:#F97583">public</span><span style="color:#B392F0"> Base1</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">public:</span></span>
<span class="line"><span style="color:#F97583">    void</span><span style="color:#B392F0"> func</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">        m_A </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 10</span><span style="color:#E1E4E8">;</span><span style="color:#6A737D"> //父类中公共权限成员 到子类中依然是公共权限</span></span>
<span class="line"><span style="color:#E1E4E8">        m_B </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 10</span><span style="color:#E1E4E8">;</span><span style="color:#6A737D"> //父类中保护权限成员 到子类中依然是保护权限</span></span>
<span class="line"><span style="color:#6A737D">        // m_C = 10; //父类中私有权限成员 到子类中无法访问</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">void</span><span style="color:#B392F0"> test01</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">    Son1 s1;</span></span>
<span class="line"><span style="color:#E1E4E8">    s1.m_A </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 100</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#6A737D">    // s1.m_B = 100; //保护权限不能在类外访问</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"><span style="color:#6A737D">//保护继承</span></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> Base2</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">public:</span></span>
<span class="line"><span style="color:#F97583">    int</span><span style="color:#E1E4E8"> m_A;</span></span>
<span class="line"><span style="color:#F97583">protected:</span></span>
<span class="line"><span style="color:#F97583">    int</span><span style="color:#E1E4E8"> m_B;</span></span>
<span class="line"><span style="color:#F97583">private:</span></span>
<span class="line"><span style="color:#F97583">    int</span><span style="color:#E1E4E8"> m_C;</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> Son2</span><span style="color:#E1E4E8"> : </span><span style="color:#F97583">protected</span><span style="color:#B392F0"> Base2</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">public:</span></span>
<span class="line"><span style="color:#F97583">    void</span><span style="color:#B392F0"> func</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">        m_A </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 100</span><span style="color:#E1E4E8">;</span><span style="color:#6A737D"> //公共成员 到子类变为保护权限</span></span>
<span class="line"><span style="color:#E1E4E8">        m_B </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 100</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">        m_C </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 100</span><span style="color:#E1E4E8">;</span><span style="color:#6A737D"> //父类中私有成员 到子类访问不到</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">void</span><span style="color:#B392F0"> test02</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">    Son2 s1;</span></span>
<span class="line"><span style="color:#E1E4E8">    s1.m_A </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 100</span><span style="color:#E1E4E8">;</span><span style="color:#6A737D"> //m_A保护权限，类外访问不到</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"><span style="color:#6A737D">//私有继承</span></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> Base3</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">public:</span></span>
<span class="line"><span style="color:#F97583">    int</span><span style="color:#E1E4E8"> m_A;</span></span>
<span class="line"><span style="color:#F97583">protected:</span></span>
<span class="line"><span style="color:#F97583">    int</span><span style="color:#E1E4E8"> m_B;</span></span>
<span class="line"><span style="color:#F97583">private:</span></span>
<span class="line"><span style="color:#F97583">    int</span><span style="color:#E1E4E8"> m_C;</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> Son3</span><span style="color:#E1E4E8"> : </span><span style="color:#F97583">private</span><span style="color:#B392F0"> Base3</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">public:</span></span>
<span class="line"><span style="color:#F97583">    void</span><span style="color:#B392F0"> func</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">        m_A </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 100</span><span style="color:#E1E4E8">;</span><span style="color:#6A737D"> //父类中公共成员到子类变成私有成员</span></span>
<span class="line"><span style="color:#E1E4E8">        m_B </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 100</span><span style="color:#E1E4E8">;</span><span style="color:#6A737D"> //父类中保护成员到子类变成私有成员</span></span>
<span class="line"><span style="color:#6A737D">        // m_C = 100; //父类中私有成员，子类无法访问</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> GrandSon3</span><span style="color:#E1E4E8"> : </span><span style="color:#F97583">public</span><span style="color:#B392F0"> Son3</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">public:</span></span>
<span class="line"><span style="color:#F97583">    void</span><span style="color:#B392F0"> func</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">        m_A </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 1000</span><span style="color:#E1E4E8">;</span><span style="color:#6A737D"> //到了Son3中，m_A为私有，无法访问</span></span>
<span class="line"><span style="color:#E1E4E8">        m_B </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 1000</span><span style="color:#E1E4E8">;</span><span style="color:#6A737D"> //到了Son3中，m_A为私有，无法访问</span></span>
<span class="line"><span style="color:#E1E4E8">        m_C </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 1000</span><span style="color:#E1E4E8">;</span><span style="color:#6A737D"> //到了Son3中，m_A为私有，无法访问</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">void</span><span style="color:#B392F0"> test03</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">    Son3 s1;</span></span>
<span class="line"><span style="color:#6A737D">    // s1.m_A = 1000; //到Son3中变为私有成员，类外无法访问</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">int</span><span style="color:#B392F0"> main</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#B392F0">    test01</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#B392F0">    test02</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#B392F0">    test03</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span></code></pre>
<h3 id="2继承中的对象模型">2、继承中的对象模型</h3>
<p>例3：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#F97583">#include</span><span style="color:#9ECBFF"> &#x3C;iostream></span></span>
<span class="line"><span style="color:#F97583">using</span><span style="color:#F97583"> namespace</span><span style="color:#B392F0"> std</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">//继承中的对象模型</span></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> Base</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">public:</span></span>
<span class="line"><span style="color:#F97583">    int</span><span style="color:#E1E4E8"> m_A;</span></span>
<span class="line"><span style="color:#F97583">protected:</span></span>
<span class="line"><span style="color:#F97583">    int</span><span style="color:#E1E4E8"> m_B;</span></span>
<span class="line"><span style="color:#F97583">private:</span></span>
<span class="line"><span style="color:#F97583">    int</span><span style="color:#E1E4E8"> m_C;</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> Son</span><span style="color:#E1E4E8"> : </span><span style="color:#F97583">public</span><span style="color:#B392F0"> Base</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">public:</span></span>
<span class="line"><span style="color:#F97583">    int</span><span style="color:#E1E4E8"> m_D;</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">void</span><span style="color:#B392F0"> test01</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">    cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "size of Son is "</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#F97583"> sizeof</span><span style="color:#E1E4E8">(Son) </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">int</span><span style="color:#B392F0"> main</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#B392F0">    test01</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span></code></pre>
<p>上面这个案例，最终输出应该是16。</p>
<p>继承中，<strong>父类的所有非静态成员属性都会被子类继承。父类的私有成员属性被编译器隐藏，因而无</strong></p>
<p><strong>法访问，但是继承下来了。</strong></p>
<h3 id="3继承中构造与析构顺序">3、继承中构造与析构顺序</h3>
<p>继承中构造和析构顺序：</p>
<p><strong>父类先构造，子类再构造。</strong></p>
<p><strong>析构顺序与构造顺序相反。</strong></p>
<p>例4：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#F97583">#include</span><span style="color:#9ECBFF"> &#x3C;iostream></span></span>
<span class="line"><span style="color:#F97583">using</span><span style="color:#F97583"> namespace</span><span style="color:#B392F0"> std</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">//继承中构造和析构顺序</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> Base</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">public:</span></span>
<span class="line"><span style="color:#B392F0">    Base</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">        cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "Base Constructor"</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#B392F0">    ~Base</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">        cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "Base Distructor"</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> Son</span><span style="color:#E1E4E8"> : </span><span style="color:#F97583">public</span><span style="color:#B392F0"> Base</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">public:</span></span>
<span class="line"><span style="color:#B392F0">    Son</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">        cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "Son Constructor"</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#B392F0">    ~Son</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">        cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "Son Distructor"</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">void</span><span style="color:#B392F0"> test01</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#6A737D">    // Base b;</span></span>
<span class="line"><span style="color:#E1E4E8">    Son s;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">int</span><span style="color:#B392F0"> main</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#B392F0">    test01</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span></code></pre>
<h3 id="4继承中同名成员处理">4、继承中同名成员处理</h3>
<p>当子类和父类出现同名成员时，如果要<strong>访问子类中成员，可以直接访问</strong>；如</p>
<p>果<strong>访问父类中成员，则需要加作用域</strong>。</p>
<p>例5：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#F97583">#include</span><span style="color:#9ECBFF"> &#x3C;iostream></span></span>
<span class="line"><span style="color:#F97583">using</span><span style="color:#F97583"> namespace</span><span style="color:#B392F0"> std</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">//继承中同名成员处理方式</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> Base</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">public:</span></span>
<span class="line"><span style="color:#B392F0">    Base</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">        m_A </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 100</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    void</span><span style="color:#B392F0"> func</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">        cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "Base-func()"</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    void</span><span style="color:#B392F0"> func</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">int</span><span style="color:#FFAB70"> a</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#E1E4E8">        cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "Base-func(int a)"</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    int</span><span style="color:#E1E4E8"> m_A;</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> Son</span><span style="color:#E1E4E8"> : </span><span style="color:#F97583">public</span><span style="color:#B392F0"> Base</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">public:</span></span>
<span class="line"><span style="color:#B392F0">    Son</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">        m_A </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 200</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    void</span><span style="color:#B392F0"> func</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">        cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "Son-func()"</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    int</span><span style="color:#E1E4E8"> m_A;</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">//同名属性处理</span></span>
<span class="line"><span style="color:#F97583">void</span><span style="color:#B392F0"> test01</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">    Son s;</span></span>
<span class="line"><span style="color:#E1E4E8">    cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "m_A = "</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> s.m_A </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">    cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "Base m_A = "</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> s.Base :: m_A </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#6A737D">    //如果通过子类对象访问同名父类中同名成员，需要加作用域</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">//同名函数处理</span></span>
<span class="line"><span style="color:#F97583">void</span><span style="color:#B392F0"> test02</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">    Son s;</span></span>
<span class="line"><span style="color:#E1E4E8">    s.</span><span style="color:#B392F0">func</span><span style="color:#E1E4E8">();</span><span style="color:#6A737D"> //直接调用子类中成员函数</span></span>
<span class="line"><span style="color:#E1E4E8">    s.Base :: </span><span style="color:#B392F0">func</span><span style="color:#E1E4E8">();</span><span style="color:#6A737D"> //调用父类中同名成员函数，加作用域</span></span>
<span class="line"><span style="color:#E1E4E8">    s.Base :: </span><span style="color:#B392F0">func</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">100</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#6A737D">    //如果子类中出现和父类同名的成员函数，子类的同名成员函数会隐藏掉父类中所有同名成员函数</span></span>
<span class="line"><span style="color:#6A737D">    //如果访问父类中被隐藏的同名成员函数，需要加作用域</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">int</span><span style="color:#B392F0"> main</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#6A737D">    // test01();</span></span>
<span class="line"><span style="color:#B392F0">    test02</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span></code></pre>
<h3 id="5继承中同名静态成员处理">5、继承中同名静态成员处理</h3>
<p>静态成员和非静态成员出现同名成员处理方式相同。<strong>访问子类成员可以直</strong></p>
<p><strong>接访问</strong>，<strong>访问父类成员需要加作用域</strong>。</p>
<p>例6：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#F97583">#include</span><span style="color:#9ECBFF"> &#x3C;iostream></span></span>
<span class="line"><span style="color:#F97583">using</span><span style="color:#F97583"> namespace</span><span style="color:#B392F0"> std</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">//继承中同名静态成员处理方式</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> Base</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">public:</span></span>
<span class="line"><span style="color:#F97583">    static</span><span style="color:#F97583"> int</span><span style="color:#E1E4E8"> m_A;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    static</span><span style="color:#F97583"> void</span><span style="color:#B392F0"> func</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">        cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "Base-static func()"</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    static</span><span style="color:#F97583"> void</span><span style="color:#B392F0"> func</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">int</span><span style="color:#FFAB70"> a</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#E1E4E8">        cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "Base-static func(int a)"</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">int</span><span style="color:#B392F0"> Base</span><span style="color:#E1E4E8"> :: m_A </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 100</span><span style="color:#E1E4E8">; </span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> Son</span><span style="color:#E1E4E8"> : </span><span style="color:#F97583">public</span><span style="color:#B392F0"> Base</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">public:</span></span>
<span class="line"><span style="color:#F97583">    static</span><span style="color:#F97583"> int</span><span style="color:#E1E4E8"> m_A;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    static</span><span style="color:#F97583"> void</span><span style="color:#B392F0"> func</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">        cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "Son-static func()"</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">int</span><span style="color:#B392F0"> Son</span><span style="color:#E1E4E8"> :: m_A </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 200</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">//同名静态成员属性</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">void</span><span style="color:#B392F0"> test01</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#6A737D">    //1、通过对象访问</span></span>
<span class="line"><span style="color:#E1E4E8">    Son s;</span></span>
<span class="line"><span style="color:#E1E4E8">    cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "Son m_A = "</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> s.m_A </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">    cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "Base m_A = "</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> s.Base :: m_A </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#6A737D">    //2、通过类名访问</span></span>
<span class="line"><span style="color:#E1E4E8">    cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "Son m_A = "</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#B392F0"> Son</span><span style="color:#E1E4E8"> :: m_A </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#6A737D">    //第一个：：代表通过类名访问</span></span>
<span class="line"><span style="color:#6A737D">    //第二个：：代表访问父类作用域下的属性</span></span>
<span class="line"><span style="color:#E1E4E8">    cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "Base m_A = "</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#B392F0"> Son</span><span style="color:#E1E4E8"> :: </span><span style="color:#B392F0">Base</span><span style="color:#E1E4E8"> :: m_A </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">//同名静态成员函数</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">void</span><span style="color:#B392F0"> test02</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#6A737D">    //1、通过对象访问</span></span>
<span class="line"><span style="color:#E1E4E8">    Son s;</span></span>
<span class="line"><span style="color:#E1E4E8">    s.</span><span style="color:#B392F0">func</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">    s.Base :: </span><span style="color:#B392F0">func</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#6A737D">    //2、通过类名访问</span></span>
<span class="line"><span style="color:#6A737D">    //第一个：：代表通过类名访问</span></span>
<span class="line"><span style="color:#6A737D">    //第二个：：代表访问父类作用域下的函数</span></span>
<span class="line"><span style="color:#B392F0">    Son</span><span style="color:#E1E4E8"> :: </span><span style="color:#B392F0">func</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#B392F0">    Son</span><span style="color:#E1E4E8"> :: </span><span style="color:#B392F0">Base</span><span style="color:#E1E4E8"> :: </span><span style="color:#B392F0">func</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#6A737D">    //如果子类中出现和父类同名的静态成员函数，子类的同名成员函数会隐藏掉父类中所有同名成员函数</span></span>
<span class="line"><span style="color:#6A737D">    //如果访问父类中被隐藏的同名静态成员函数，需要加作用域</span></span>
<span class="line"><span style="color:#B392F0">    Son</span><span style="color:#E1E4E8"> :: </span><span style="color:#B392F0">Base</span><span style="color:#E1E4E8"> :: </span><span style="color:#B392F0">func</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">100</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">int</span><span style="color:#B392F0"> main</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#B392F0">    test01</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#B392F0">    test02</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span></code></pre>
<h3 id="6多继承">6、多继承</h3>
<p>C++允许一个类继承多个类。</p>
<p><strong>语法：class 子类 : 继承方式 父类1, 继承方式 父类2……</strong></p>
<p>多继承可能会导致不同父类有同名成员出现，这时候需要加作用域加以区</p>
<p>分。</p>
<p><strong>实际开发不建议使用多继承。</strong></p>
<p>例7：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#F97583">#include</span><span style="color:#9ECBFF"> &#x3C;iostream></span></span>
<span class="line"><span style="color:#F97583">using</span><span style="color:#F97583"> namespace</span><span style="color:#B392F0"> std</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> Base1</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">public:</span></span>
<span class="line"><span style="color:#B392F0">    Base1</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">        m_A </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 100</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    int</span><span style="color:#E1E4E8"> m_A;</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> Base2</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">public:</span></span>
<span class="line"><span style="color:#B392F0">    Base2</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">        m_A </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 200</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    int</span><span style="color:#E1E4E8"> m_A;</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">//子类需要继承base1和base2</span></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> Son</span><span style="color:#E1E4E8"> : </span><span style="color:#F97583">public</span><span style="color:#B392F0"> Base1</span><span style="color:#E1E4E8">, </span><span style="color:#F97583">public</span><span style="color:#B392F0"> Base2</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">public:</span></span>
<span class="line"><span style="color:#B392F0">    Son</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">        m_C </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 300</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">        m_D </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 400</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    int</span><span style="color:#E1E4E8"> m_C;</span></span>
<span class="line"><span style="color:#F97583">    int</span><span style="color:#E1E4E8"> m_D;</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">void</span><span style="color:#B392F0"> test01</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">    Son s;</span></span>
<span class="line"><span style="color:#6A737D">    //16</span></span>
<span class="line"><span style="color:#E1E4E8">    cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "size of Son is "</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#F97583"> sizeof</span><span style="color:#E1E4E8">(s) </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#6A737D">    //当父类中出现同名成员，需要加作用域</span></span>
<span class="line"><span style="color:#E1E4E8">    cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "base1 m_A = "</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> s.Base1 :: m_A </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">    cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "base2 m_A = "</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> s.Base2 :: m_A </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">int</span><span style="color:#B392F0"> main</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#B392F0">    test01</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span></code></pre>
<h3 id="7菱形继承">7、菱形继承</h3>
<p>菱形继承，是指有两个子类继承同一个父类，又有某一个类同时继承这两个</p>
<p>子类，这样形成的继承关系就是菱形继承。</p>
<p>菱形继承中可能出现同名成员的问题，可以采用<strong>虚继承</strong>解决这个问题。</p>
<p>在继承前加上关键字virtual就变为虚继承。</p>
<p>例8：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#F97583">#include</span><span style="color:#9ECBFF"> &#x3C;iostream></span></span>
<span class="line"><span style="color:#F97583">using</span><span style="color:#F97583"> namespace</span><span style="color:#B392F0"> std</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">//菱形继承</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> Animal</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">public:</span></span>
<span class="line"><span style="color:#F97583">    int</span><span style="color:#E1E4E8"> m_Age;</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"><span style="color:#6A737D">//使用虚继承解决菱形继承的问题</span></span>
<span class="line"><span style="color:#6A737D">//继承之前加入关键词 virtual 变为虚继承</span></span>
<span class="line"><span style="color:#6A737D">//Animal类变为虚基类</span></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> Sheep</span><span style="color:#E1E4E8"> : </span><span style="color:#F97583">virtual</span><span style="color:#F97583"> public</span><span style="color:#B392F0"> Animal</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> Tuo</span><span style="color:#E1E4E8"> : </span><span style="color:#F97583">virtual</span><span style="color:#F97583"> public</span><span style="color:#B392F0"> Animal</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> SheepTuo</span><span style="color:#E1E4E8"> : </span><span style="color:#F97583">public</span><span style="color:#B392F0"> Sheep</span><span style="color:#E1E4E8">, </span><span style="color:#F97583">public</span><span style="color:#B392F0"> Tuo</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">void</span><span style="color:#B392F0"> test01</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">    SheepTuo st;</span></span>
<span class="line"><span style="color:#E1E4E8">    st.Sheep :: m_Age </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 28</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">    st.Tuo :: m_Age </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 18</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#6A737D">    //当菱形继承，两个父类拥有相同数据，需要加以作用域区分</span></span>
<span class="line"><span style="color:#E1E4E8">    cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "st.Sheep::m_Age = "</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> st.Sheep :: m_Age </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">    cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "st.Tuo :: m_Age = "</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> st.Tuo :: m_Age </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">    cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "st.m_Age = "</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> st.m_Age </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#6A737D">    //这份数据只要一份就可以</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">int</span><span style="color:#B392F0"> main</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#B392F0">    test01</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span></code></pre>
<h2 id="七多态">七、多态</h2>
<h3 id="1多态基础">1、多态基础</h3>
<p>多态是面向对象三大特性之一。</p>
<p>多态可分为<strong>静态多态</strong>和<strong>动态多态</strong>。</p>













<table><thead><tr><th>静态多态</th><th>动态多态</th></tr></thead><tbody><tr><td>函数地址早绑定，编译期间确定地址</td><td>函数地址晚绑定，运行期间确定地址</td></tr></tbody></table>
<p>多态的条件：</p>
<ol>
<li>有继承关系</li>
<li>子类要重写父类中的虚函数 重写：函数返回值 函数名 参数列表 完全相同</li>
</ol>
<p>多态使用：<strong>父类的指针或引用，执行子类对象</strong>。</p>
<p>例1：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#F97583">#include</span><span style="color:#9ECBFF"> &#x3C;iostream></span></span>
<span class="line"><span style="color:#F97583">using</span><span style="color:#F97583"> namespace</span><span style="color:#B392F0"> std</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> Animal</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">public:</span></span>
<span class="line"><span style="color:#6A737D">    //虚函数</span></span>
<span class="line"><span style="color:#F97583">    virtual</span><span style="color:#F97583"> void</span><span style="color:#B392F0"> speak</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">        cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "Animal is speaking"</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">//当子类重写父类的虚函数</span></span>
<span class="line"><span style="color:#6A737D">//子类的虚函数表内部会替换成子类的虚函数地址</span></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> Cat</span><span style="color:#E1E4E8"> : </span><span style="color:#F97583">public</span><span style="color:#B392F0"> Animal</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">public:</span></span>
<span class="line"><span style="color:#F97583">    void</span><span style="color:#B392F0"> speak</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">        cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "Cat is speaking"</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> Dog</span><span style="color:#E1E4E8"> : </span><span style="color:#F97583">public</span><span style="color:#B392F0"> Animal</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">public:</span></span>
<span class="line"><span style="color:#F97583">    void</span><span style="color:#B392F0"> speak</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">        cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "Dog is speaking"</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">//执行说话函数</span></span>
<span class="line"><span style="color:#6A737D">//地址早绑定，在编译阶段就确定地址</span></span>
<span class="line"><span style="color:#6A737D">//如果想执行让猫说话，那么函数地址就不能提前绑定，需要运行阶段进行绑定</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">void</span><span style="color:#B392F0"> doSpeak</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Animal</span><span style="color:#F97583"> &#x26;</span><span style="color:#FFAB70">animal</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#E1E4E8">    animal.</span><span style="color:#B392F0">speak</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">void</span><span style="color:#B392F0"> test01</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">    Cat cat;</span></span>
<span class="line"><span style="color:#B392F0">    doSpeak</span><span style="color:#E1E4E8">(cat);</span></span>
<span class="line"><span style="color:#E1E4E8">    Dog dog;</span></span>
<span class="line"><span style="color:#B392F0">    doSpeak</span><span style="color:#E1E4E8">(dog);</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">void</span><span style="color:#B392F0"> test02</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">    cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "size of Animal = "</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#F97583"> sizeof</span><span style="color:#E1E4E8">(Animal) </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">int</span><span style="color:#B392F0"> main</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#B392F0">    test01</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#B392F0">    test02</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span></code></pre>
<p>多态的优点：</p>
<ol>
<li>代码组织结构清晰</li>
<li>可读性强</li>
<li>利于前期和后期的维护</li>
</ol>
<p>例2：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#F97583">#include</span><span style="color:#9ECBFF"> &#x3C;iostream></span></span>
<span class="line"><span style="color:#F97583">#include</span><span style="color:#9ECBFF"> &#x3C;string></span></span>
<span class="line"><span style="color:#F97583">using</span><span style="color:#F97583"> namespace</span><span style="color:#B392F0"> std</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">//多态优点</span></span>
<span class="line"><span style="color:#6A737D">//代码组织结构清晰</span></span>
<span class="line"><span style="color:#6A737D">//可读性强</span></span>
<span class="line"><span style="color:#6A737D">//利于前期和后期的维护</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">//普通写法</span></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> Calculator</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">public:</span></span>
<span class="line"><span style="color:#F97583">    int</span><span style="color:#B392F0"> getResult</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">string</span><span style="color:#FFAB70"> oper</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">        if</span><span style="color:#E1E4E8"> (oper </span><span style="color:#F97583">==</span><span style="color:#9ECBFF"> "+"</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">            return</span><span style="color:#E1E4E8"> m_Num1 </span><span style="color:#F97583">+</span><span style="color:#E1E4E8"> m_Num2;</span></span>
<span class="line"><span style="color:#E1E4E8">        } </span><span style="color:#F97583">else</span><span style="color:#F97583"> if</span><span style="color:#E1E4E8"> (oper </span><span style="color:#F97583">==</span><span style="color:#9ECBFF"> "-"</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">            return</span><span style="color:#E1E4E8"> m_Num1 </span><span style="color:#F97583">-</span><span style="color:#E1E4E8"> m_Num2;</span></span>
<span class="line"><span style="color:#E1E4E8">        } </span><span style="color:#F97583">else</span><span style="color:#F97583"> if</span><span style="color:#E1E4E8"> (oper </span><span style="color:#F97583">==</span><span style="color:#9ECBFF"> "*"</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">            return</span><span style="color:#E1E4E8"> m_Num1 </span><span style="color:#F97583">*</span><span style="color:#E1E4E8"> m_Num2;</span></span>
<span class="line"><span style="color:#E1E4E8">        }</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    int</span><span style="color:#E1E4E8"> m_Num1;</span></span>
<span class="line"><span style="color:#F97583">    int</span><span style="color:#E1E4E8"> m_Num2;</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">void</span><span style="color:#B392F0"> test01</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">    Calculator c;</span></span>
<span class="line"><span style="color:#E1E4E8">    c.m_Num1 </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 10</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">    c.m_Num2 </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 10</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">    cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#E1E4E8"> c.m_Num1 </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "+"</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> c.m_Num2 </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> " = "</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> c.</span><span style="color:#B392F0">getResult</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"+"</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">    cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#E1E4E8"> c.m_Num1 </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "-"</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> c.m_Num2 </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> " = "</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> c.</span><span style="color:#B392F0">getResult</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"-"</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">    cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#E1E4E8"> c.m_Num1 </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "*"</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> c.m_Num2 </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> " = "</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> c.</span><span style="color:#B392F0">getResult</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"*"</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">//利用多态</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">//实现计算器抽象类</span></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> AbstractCal</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">public:</span></span>
<span class="line"><span style="color:#F97583">    virtual</span><span style="color:#F97583"> int</span><span style="color:#B392F0"> getResult</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#F97583">        return</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    int</span><span style="color:#E1E4E8"> m_Num1;</span></span>
<span class="line"><span style="color:#F97583">    int</span><span style="color:#E1E4E8"> m_Num2;</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">//加法类</span></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> Add</span><span style="color:#E1E4E8"> : </span><span style="color:#F97583">public</span><span style="color:#B392F0"> AbstractCal</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">public:</span></span>
<span class="line"><span style="color:#F97583">    int</span><span style="color:#B392F0"> getResult</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#F97583">        return</span><span style="color:#E1E4E8"> m_Num1 </span><span style="color:#F97583">+</span><span style="color:#E1E4E8"> m_Num2;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"><span style="color:#6A737D">//减法类</span></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> Sub</span><span style="color:#E1E4E8"> : </span><span style="color:#F97583">public</span><span style="color:#B392F0"> AbstractCal</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">public:</span></span>
<span class="line"><span style="color:#F97583">    int</span><span style="color:#B392F0"> getResult</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#F97583">        return</span><span style="color:#E1E4E8"> m_Num1 </span><span style="color:#F97583">-</span><span style="color:#E1E4E8"> m_Num2;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"><span style="color:#6A737D">//乘法类</span></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> Mul</span><span style="color:#E1E4E8"> : </span><span style="color:#F97583">public</span><span style="color:#B392F0"> AbstractCal</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">public:</span></span>
<span class="line"><span style="color:#F97583">    int</span><span style="color:#B392F0"> getResult</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#F97583">        return</span><span style="color:#E1E4E8"> m_Num1 </span><span style="color:#F97583">*</span><span style="color:#E1E4E8"> m_Num2;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">void</span><span style="color:#B392F0"> test02</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">    AbstractCal </span><span style="color:#F97583">*</span><span style="color:#E1E4E8">abc </span><span style="color:#F97583">=</span><span style="color:#F97583"> new</span><span style="color:#E1E4E8"> Add;</span></span>
<span class="line"><span style="color:#E1E4E8">    abc ->m_Num1 </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 10</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">    abc ->m_Num2 </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 10</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">    cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#E1E4E8"> abc ->m_Num1 </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "+"</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> abc ->m_Num2 </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> " = "</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> abc -></span><span style="color:#B392F0">getResult</span><span style="color:#E1E4E8">() </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#F97583">    delete</span><span style="color:#E1E4E8"> abc;</span></span>
<span class="line"><span style="color:#E1E4E8">    abc </span><span style="color:#F97583">=</span><span style="color:#F97583"> new</span><span style="color:#E1E4E8"> Sub;</span></span>
<span class="line"><span style="color:#E1E4E8">    abc ->m_Num1 </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 10</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">    abc ->m_Num2 </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 10</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">    cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#E1E4E8"> abc ->m_Num1 </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "-"</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> abc ->m_Num2 </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> " = "</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> abc -></span><span style="color:#B392F0">getResult</span><span style="color:#E1E4E8">() </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#F97583">    delete</span><span style="color:#E1E4E8"> abc;</span></span>
<span class="line"><span style="color:#E1E4E8">    abc </span><span style="color:#F97583">=</span><span style="color:#F97583"> new</span><span style="color:#E1E4E8"> Mul;</span></span>
<span class="line"><span style="color:#E1E4E8">    abc ->m_Num1 </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 10</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">    abc ->m_Num2 </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 10</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">    cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#E1E4E8"> abc ->m_Num1 </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "*"</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> abc ->m_Num2 </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> " = "</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> abc -></span><span style="color:#B392F0">getResult</span><span style="color:#E1E4E8">() </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#F97583">    delete</span><span style="color:#E1E4E8"> abc;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">int</span><span style="color:#B392F0"> main</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#6A737D">    // test01();</span></span>
<span class="line"><span style="color:#B392F0">    test02</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span></code></pre>
<h3 id="2纯虚函数和抽象类">2、纯虚函数和抽象类</h3>
<p>虚函数可以改写为纯虚函数。</p>
<p><strong>语法：virtual 返回类型 函数名(参数) = 0;</strong></p>
<p><strong>当类中有纯虚函数时，这个类就称为抽象类。</strong></p>
<p>抽象类的特点：</p>
<ol>
<li>抽象类无法实例化</li>
<li>子类必须重写抽象类中纯虚函数，否则也是抽象类</li>
</ol>
<p>例3：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#F97583">#include</span><span style="color:#9ECBFF"> &#x3C;iostream></span></span>
<span class="line"><span style="color:#F97583">using</span><span style="color:#F97583"> namespace</span><span style="color:#B392F0"> std</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">//抽象类</span></span>
<span class="line"><span style="color:#6A737D">//无法实例化对象</span></span>
<span class="line"><span style="color:#6A737D">//子类必须重写抽象类中纯虚函数，否则也是抽象类</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> Base</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">public:</span></span>
<span class="line"><span style="color:#6A737D">    //纯虚函数</span></span>
<span class="line"><span style="color:#6A737D">    //只要有一个纯虚函数，这个类称为抽象类</span></span>
<span class="line"><span style="color:#F97583">    virtual</span><span style="color:#F97583"> void</span><span style="color:#B392F0"> func</span><span style="color:#E1E4E8">() </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> Son</span><span style="color:#E1E4E8"> : </span><span style="color:#F97583">public</span><span style="color:#B392F0"> Base</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">public:</span></span>
<span class="line"><span style="color:#F97583">    virtual</span><span style="color:#F97583"> void</span><span style="color:#B392F0"> func</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">        cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "func()"</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">void</span><span style="color:#B392F0"> test01</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#6A737D">    // Base b;//无法实例化对象</span></span>
<span class="line"><span style="color:#E1E4E8">    Base </span><span style="color:#F97583">*</span><span style="color:#E1E4E8">base </span><span style="color:#F97583">=</span><span style="color:#F97583"> new</span><span style="color:#E1E4E8"> Son;</span></span>
<span class="line"><span style="color:#E1E4E8">    base -> </span><span style="color:#B392F0">func</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">int</span><span style="color:#B392F0"> main</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#B392F0">    test01</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span></code></pre>
<h3 id="2虚析构与纯虚析构">2、虚析构与纯虚析构</h3>
<p>多态使用时，如果子类有属性开辟到堆区，那么父类指针释放时无法调用到</p>
<p>子类的析构代码。</p>
<p>解决：<strong>将父类中的析构改为虚析构或纯虚析构。</strong></p>
<p>共性：<strong>可以解决父类指针释放子类对象的问题、都需要具体函数实现。</strong></p>
<p>区别：<strong>如果是纯虚析构，则该类属于抽象类，无法实例化对象。</strong></p>
<p>例4：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="cpp"><code><span class="line"><span style="color:#F97583">#include</span><span style="color:#9ECBFF"> &#x3C;iostream></span></span>
<span class="line"><span style="color:#F97583">#include</span><span style="color:#9ECBFF"> &#x3C;string></span></span>
<span class="line"><span style="color:#F97583">using</span><span style="color:#F97583"> namespace</span><span style="color:#B392F0"> std</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> Animal</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">public:</span></span>
<span class="line"><span style="color:#B392F0">    Animal</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">        cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "Animal Constructor"</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#6A737D">    //虚析构可以解决父类指针释放子类对象时不干净的问题</span></span>
<span class="line"><span style="color:#6A737D">    // virtual ~Animal() {</span></span>
<span class="line"><span style="color:#6A737D">    //     cout &#x3C;&#x3C; "Animal Destructor" &#x3C;&#x3C; endl;</span></span>
<span class="line"><span style="color:#6A737D">    // }</span></span>
<span class="line"><span style="color:#6A737D">    //纯虚析构 需要声明也需要实现</span></span>
<span class="line"><span style="color:#6A737D">    //有了纯虚析构后，这个类也属于抽象类，无法实例化对象</span></span>
<span class="line"><span style="color:#F97583">    virtual</span><span style="color:#B392F0"> ~Animal</span><span style="color:#E1E4E8">() </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#6A737D">    //纯虚函数</span></span>
<span class="line"><span style="color:#F97583">    virtual</span><span style="color:#F97583"> void</span><span style="color:#B392F0"> speak</span><span style="color:#E1E4E8">() </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">Animal</span><span style="color:#E1E4E8"> :: </span><span style="color:#F97583">~</span><span style="color:#B392F0">Animal</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">    cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "Animal Destructor"</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> Cat</span><span style="color:#E1E4E8"> : </span><span style="color:#F97583">public</span><span style="color:#B392F0"> Animal</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">public:</span></span>
<span class="line"><span style="color:#B392F0">    Cat</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">string</span><span style="color:#FFAB70"> name</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#E1E4E8">        cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "Cat Constructor"</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">        m_Name </span><span style="color:#F97583">=</span><span style="color:#F97583"> new</span><span style="color:#B392F0"> string</span><span style="color:#E1E4E8">(name);</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    virtual</span><span style="color:#F97583"> void</span><span style="color:#B392F0"> speak</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">        cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#F97583"> *</span><span style="color:#E1E4E8">m_Name </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> " is speaking"</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">    string </span><span style="color:#F97583">*</span><span style="color:#E1E4E8">m_Name;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">    ~Cat</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#F97583">        if</span><span style="color:#E1E4E8"> (m_Name </span><span style="color:#F97583">!=</span><span style="color:#79B8FF"> NULL</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#E1E4E8">            cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#9ECBFF"> "Cat Destructor"</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#E1E4E8"> endl;</span></span>
<span class="line"><span style="color:#F97583">            delete</span><span style="color:#E1E4E8"> m_Name;</span></span>
<span class="line"><span style="color:#E1E4E8">            m_Name </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> NULL</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">        }</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">void</span><span style="color:#B392F0"> test01</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">    Animal </span><span style="color:#F97583">*</span><span style="color:#E1E4E8">animal </span><span style="color:#F97583">=</span><span style="color:#F97583"> new</span><span style="color:#B392F0"> Cat</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"Tom"</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">    animal -> </span><span style="color:#B392F0">speak</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#F97583">    delete</span><span style="color:#E1E4E8"> animal;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">int</span><span style="color:#B392F0"> main</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#B392F0">    test01</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span></code></pre> </article>  </div>  </main> <footer class="animate"> <div class="mx-auto max-w-screen-sm px-5">   <div class="flex justify-between items-center"> <div>
&copy; 2025 | Yonagi&#39;s Sekai </div> <!-- <div class="flex flex-wrap gap-1 items-center">
        <button
          id="light-theme-button"
          aria-label="Light theme"
          class="group size-8 flex items-center justify-center rounded-full"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="18"
            height="18"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="1.5"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="group-hover:stroke-black group-hover:dark:stroke-white transition-colors duration-300 ease-in-out"
          >
            <circle cx="12" cy="12" r="5"></circle>
            <line x1="12" y1="1" x2="12" y2="3"></line>
            <line x1="12" y1="21" x2="12" y2="23"></line>
            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
            <line x1="1" y1="12" x2="3" y2="12"></line>
            <line x1="21" y1="12" x2="23" y2="12"></line>
            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
          </svg>
        </button>
        <button
          id="dark-theme-button"
          aria-label="Dark theme"
          class="group size-8 flex items-center justify-center rounded-full"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="18"
            height="18"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="1.5"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="group-hover:stroke-black group-hover:dark:stroke-white transition-colors duration-300 ease-in-out"
          >
            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
          </svg>
        </button>
        <button
          id="system-theme-button"
          aria-label="System theme"
          class="group size-8 flex items-center justify-center rounded-full"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="18"
            height="18"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="1.5"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="group-hover:stroke-black group-hover:dark:stroke-white transition-colors duration-300 ease-in-out"
          >
            <rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect>
            <line x1="8" y1="21" x2="16" y2="21"></line>
            <line x1="12" y1="17" x2="12" y2="21"></line>
          </svg>
        </button>
      </div> --> </div>  </div> </footer> </body></html>