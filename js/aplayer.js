var navMusicEl=document.getElementById("nav-music"),yonagi={changeMusicBg:function(e=!0){if("/music/"!=window.location.pathname)return;const n=document.getElementById("an_music_bg");if(e){const e=document.querySelector("#anMusic-page .aplayer-pic");n.style.backgroundImage=e.style.backgroundImage}else{let e=setInterval((()=>{const a=document.querySelector("#anMusic-page .aplayer-pic");console.info(n),a&&(clearInterval(e),n.style.backgroundImage=a.style.backgroundImage,yonagi.addEventListenerChangeMusicBg(),document.querySelector("#nav-music meting-js").aplayer&&!document.querySelector("#nav-music meting-js").aplayer.audio.paused&&yonagi.musicToggle())}),100)}},addEventListenerChangeMusicBg:function(){const e=document.getElementById("anMusic-page"),n=e.querySelector(".aplayer-info .aplayer-time .aplayer-icon-menu");e.querySelector("meting-js").aplayer.on("loadeddata",(function(){yonagi.changeMusicBg(),console.info("player loadeddata")})),n.addEventListener("click",(function(){document.getElementById("menu-mask").style.display="block",document.getElementById("menu-mask").style.animation="0.5s ease 0s 1 normal none running to_show"})),document.getElementById("menu-mask").addEventListener("click",(function(){"/music/"==window.location.pathname&&e.querySelector(".aplayer-list").classList.remove("aplayer-list-hide")}))},musicToggle:function(e=!0){yonagi_musicFirst||(musicBindEvent(),yonagi_musicFirst=!0);yonagi_musicPlaying?(navMusicEl.classList.remove("playing"),document.getElementById("nav-music-hoverTips").innerHTML="音乐已暂停",yonagi_musicPlaying=!1,navMusicEl.classList.remove("stretch")):(navMusicEl.classList.add("playing"),yonagi_musicPlaying=!0,navMusicEl.classList.add("stretch")),e&&document.querySelector("#nav-music meting-js").aplayer.toggle()},musicTelescopic:function(){navMusicEl.classList.contains("stretch")?navMusicEl.classList.remove("stretch"):navMusicEl.classList.add("stretch")},musicSkipBack:function(){document.querySelector("#nav-music meting-js").aplayer.skipBack()},musicSkipForward:function(){document.querySelector("#nav-music meting-js").aplayer.skipForward()},musicGetName:function(){for(var e=$(".aplayer-title"),n=[],a=e.length-1;a>=0;a--)n[a]=e[a].innerText;return n[0]}};yonagi.changeMusicBg(!1);